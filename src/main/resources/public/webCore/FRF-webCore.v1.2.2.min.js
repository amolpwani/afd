'use strict';
angular.module("WebCoreModule",["ngSanitize","ngTouch","pascalprecht.translate","ui.bootstrap","ui.mask","ui.router","ui.select","WcResponsiveTableModule"]).config(["$httpProvider",function(o){o.useApplyAsync(!0)}]),angular.module("WebCoreModule").constant("_",window._),angular.module("WebCoreModule").constant("XLSX",window.XLSX),angular.module("WebCoreModule").constant("saveAs",window.saveAs),angular.module("WebCoreModule").constant("pdfMake",window.pdfMake),angular.module("WebCoreModule").constant("Chart",window.Chart),angular.module("WebCoreModule").constant("WcConstants",{local:"local",wslBaseUrl:"https://www.wsl.ford.com/login.cgi?portstripping=no&back=",authorization:{any:"Any",all:"All"},version:"1.2.2",name:"Ford Responsive Framework (FRF)"}),angular.module("WebCoreModule").constant("Prism",window.Prism),jQuery.fn.exists=function(){return 0!==this.length},jQuery.fn.outerHTML=function(){return jQuery("<div>").append(this.eq(0).clone()).html()},angular.merge=function(o){return angular.forEach(arguments,function(e){e!==o&&angular.forEach(e,function(e,n){o[n]&&o[n].constructor&&o[n].constructor===Object?angular.merge(o[n],e):o[n]=e})}),o};
angular.module("WebCoreModule").service("WcAlertConsoleService",["$timeout","_","$interval","$sce",function(e,t,i,s){this.configureDefaults=function(e){e&&(void 0===e.visible||!0!==e.visible&&!1!==e.visible||(u=e.visible),void 0===e.multiple||!0!==e.multiple&&!1!==e.multiple||(r=e.multiple),void 0===e.persist||!0!==e.persist&&!1!==e.persist||(n=e.persist),void 0!==e.timeout&&"NaN"!==parseInt(e.timeout)&&(o=e.timeout),!e.errorOnStateChange||!0!==e.errorOnStateChange&&!1!==e.errorOnStateChange||(a=e.errorOnStateChange))};var u=!0,r=!0,n=!1,o=7,a=!0;this.getSettings=function(){return{visible:u,multiple:r,persist:n,timeout:o,fadeOutAnimationLengthMS:350,removeErrorOnStateChange:a}};var l=[];this.isMessageDuplicate=function(e){for(var t=!1,i=0;i<l.length;i++)l[i].message.$$unwrapTrustedValue()===e.$$unwrapTrustedValue()&&(t=!0);return t},this.addMessage=function(e){e.message=s.trustAsHtml(e.message),e&&(void 0===e.visible&&(e.visible=u),void 0===e.multiple&&(e.multiple=r),void 0===e.persist&&(e.persist=n),void 0===e.timeout&&(e.timeout=o));var a=t.uniqueId("alert_");e.uniqueishID=a,"danger"===e.type&&(e.persist=!0),!1===e.multiple?this.isMessageDuplicate(e.message)||l.push(e):l.push(e),!1===e.persist&&(i(function(){for(var t=0;t<l.length;t++)l[t].uniqueishID===e.uniqueishID&&(l[t].fadeOut=!0)},1e3*e.timeout-350,1),i(angular.bind(this,function(){this.removeMessage(e.uniqueishID)}),1e3*e.timeout,1),i(angular.bind(this,function(){this.updateTimeout(e.uniqueishID)}),1e3,e.timeout))},this.updateTimeout=function(e){for(var t=0;t<l.length;t++)l[t].uniqueishID===e&&l[t].timeout--},this.removeMessage=function(t,i){for(var s in l)if(l[s].uniqueishID===t)return i?(l[s].fadeOut=!0,void e(angular.bind(this,function(e){return function(){this.removeMessage(e)}}(t)),350)):void l.splice(s,1)},this.removeMessages=function(e){for(var t=0;t<l.length;t++)!1!==l[t].persist&&!0!==e||(l.splice(t,1),t-=1)},this.removeErrorMessages=function(){for(var e=0;e<l.length;e++)"danger"===l[e].type&&(l.splice(e,1),e-=1)},this.getMessages=function(e){for(var t=[],i=0;i<l.length;i++)(!0===e&&!0===l[i].visible||void 0===e)&&t.push(l[i]);return t},this.getMessagesByType=function(e){for(var t=[],i=0;i<l.length;i++)l[i].type===e&&t.push(l[i]);return t}}]);
angular.module("WebCoreModule").service("WcAuthorizationCacheHelper",["_","$q","$window",function(e,t,i){this.setSessionCache=function(){i.sessionStorage.policyCache=angular.toJson(this.cache)},this.getSessionCache=function(){return angular.fromJson(i.sessionStorage.policyCache)},this.cache=this.getSessionCache(),this.cache||(this.cache=[]),this.resetCache=function(){this.cache=[]},this.retrievePolicyAuthorization=function(i){var c=e.find(this.cache,{policy:i});return void 0!==c?c.promise&&c.promise.then?c.promise.then(function(e){return(e=e.data?e.data:e).authorized}):t.when(c.authorized):null},this.formatPolicy=function(e,t){if(t.then){t.then(angular.bind(this,function(t){var i;for(i=0;i<this.cache.length&&this.cache[i].policy!==e;i++);t=t.data?t.data:t,this.cache[i]=this.formatPolicy(e,t),this.setSessionCache()}));var i={};return i.policy=e,i.promise=t,i}var c=angular.copy(t);return c.policy=e,delete c.resource,delete c.action,c},this.addPolicy=function(e,t){this.cache.push(this.formatPolicy(e,t)),this.setSessionCache()}}]);
angular.module("WebCoreModule").service("WcAuthorizationService",["WcHttpEndpointPrototype","WcAuthorizationCacheHelper","_","$q","WcConstants","$state",function(t,i,r,a,n,e){this.authorizationEndpoint=new t("authorizations"),this.requestAuthorization=function(t){i.addPolicy(t,this.authorizationEndpoint.get({params:{authorizationString:t}}).then(function(t){return t.data[0]}))},this.isAuthorizedFromCache=function(t){return i.retrievePolicyAuthorization(t)},this.isStateAuthorized=function(t){var i=e.get(t),r=null,o=null;return i.data&&(r=i.data.policies?i.data.policies:null,o=i.data.criteria?i.data.criteria:null),r?(r&&!o&&(o=n.authorization.all),this.isAuthorized(r,o)):a.when(!0)},this.isAuthorized=function(t,i){i||(i=n.authorization.all),angular.isArray(t)||(t=[t]);var e=[];return r.each(t,angular.bind(this,function(t){var i=this.isAuthorizedFromCache(t);null===i&&(this.requestAuthorization(t),i=this.isAuthorizedFromCache(t)),e.push(i)})),a.all(e).then(function(t){switch(i){case"Any":return r.some(t);case"All":return r.every(t);default:return!1}})}}]);
angular.module("WebCoreModule").service("WcCameraService",["$window","$rootScope","WcImageFileService",function(e,t,i){var s=e.navigator;t.$on("$stateChangeStart",angular.bind(this,function(){this.stopCamera()})),e.onbeforeunload=angular.bind(this,function(){this.stopCamera()}),this.cameraIsOn=!1,this.height=0,this.width=0,this.setCameraSize=function(e,t){this.height=t,this.width=e},this.mediaDevices=s.mediaDevices&&s.mediaDevices.getUserMedia?s.mediaDevices:s.mozGetUserMedia||s.webkitGetUserMedia?{getUserMedia:function(e){return new Promise(function(t,i){(s.mozGetUserMedia||s.webkitGetUserMedia).call(s,e,t,i)})}}:null,this.generateVideo=function(){return document.createElement("video")},this.returnVideoElement=function(){return this.videoElement=this.generateVideo(),this.videoElement.setAttribute("autoplay","autoplay"),this.videoElement.style.width=this.width+"px",this.videoElement.style.height=this.height+"px",this.mediaDevices.getUserMedia({audio:!1,video:!0}).then(angular.bind(this,function(t){return this.stream=t,this.videoElement.src=e.URL.createObjectURL(t),$(this.videoElement)})).catch(function(e){console.error(e)})},this.checkForCamera=function(){return e.navigator.mediaDevices.enumerateDevices().then(function(e){return(e=e.filter(function(e){return"videoinput"===e.kind})).length>0}).catch(function(e){console.log(e.name+": "+e.message)})},this.takePicture=function(){var e=i.generateCanvas();return e.width=this.width,e.height=this.height,e.getContext("2d").drawImage(this.videoElement,0,0,this.width,this.height),e.toDataURL("image/jpeg",100)},this.startCamera=function(){this.videoElement.play(),this.cameraIsOn=!0},this.stopCamera=function(){if(this.cameraIsOn){if(this.stream.getVideoTracks){var e=this.stream.getVideoTracks();e&&e[0]&&e[0].stop&&e[0].stop()}else this.stream.stop&&this.stream.stop();this.cameraIsOn=!1}}}]);
angular.module("WebCoreModule").service("WcDataFileService",["$q","$window",function(e,r){this.getFileType=function(e){return e.type.replace(/[a-z]+\//,"")},this.prepareForFileUpload=function(e){return{MIMEType:e.match(/^[^,]*,/,"")[0],base64String:e.replace(/^[^,]*,/,"")}},this.readFile=function(t){var n=e.defer(),a=new r.FileReader;return a.onload=function(e){var r=e.target.result;n.resolve(r)},a.onerror=function(){n.reject(t)},a.readAsDataURL(t),n.promise}}]);
angular.module("WebCoreModule").service("WcHttpRequestService",["$rootScope","$q","$http","$window","$timeout","$interpolate","WcAlertConsoleService",function(e,t,s,r,n,i,u){this.configuration={xsrfCookieName:"WSL-credential",withCredentials:!0,headers:{},timeout:1e4,baseUrl:"",cache:!1,pingTrustPeriodMS:1e3,unAuthenticatedCallback:function(){},unprotectedPingRoute:"unprotected/ping",queuedRequestMessages:{}},this.configureDefaults=function(e){angular.extend(this.configuration,e)},this.requestConfigurationMapper=function(e){var t=angular.copy(this.configuration);return delete t.baseUrl,delete t.pingTrustPeriodMS,delete t.unAuthenticatedCallback,delete t.unprotectedPingRoute,delete t.queuedRequestMessages,angular.extend(t,e),delete t.cache,t},this.urlBuilder=function(e){return e.indexOf("http://")>-1||e.indexOf("https://")>-1?e:this.configuration.baseUrl+e},this.get=function(r,i){var u=this.triggerRequestInterceptors(r,null,i),o=r=u.url;if((i=u.config)&&i.params&&(o=r+function(e){var t="/";return Object.keys(e).forEach(function(s){t="/"===t?t+s+":"+e[s]:t+"-"+s+":"+e[s]}),t}(i.params)),i&&i.cache&&!i.alwaysRefresh&&!i.forceRefresh){var a;if("localStorage"===i.cache?a={data:this.getFromLocalStorage(o)}:"sessionStorage"===i.cache&&(a=this.getFromSessionStorage(o)),a&&a.data)return t.when(a)}return s.get(this.urlBuilder(r),this.requestConfigurationMapper(i)).then(angular.bind(this,function(t){return e.$broadcast("Online"),t=this.triggerResponseInterceptors(t),i&&("localStorage"===i.cache?this.storeInLocalStorage(o,t.data):"sessionStorage"===i.cache&&this.storeInSessionStorage(o,t.data)),{data:t.data,status:t.status}}),angular.bind(this,function(s){return this.triggerErrorInterceptors(s),s.status>0?t.reject(s):this.getNetworkState().then(angular.bind(this,function(r){if("offline"===r&&i){var u;return"localStorage"===i.cache?u={data:this.getFromLocalStorage(o)}:"sessionStorage"===i.cache&&(u=this.getFromSessionStorage(o)),u&&u.data?t.when(u).finally(function(){n(function(){e.$broadcast("Offline")})}):t.reject("Offline: No cached data available!")}return t.reject(s)}))}))},this.post=function(r,n,i){var u=this.triggerRequestInterceptors(r,n,i);return r=u.url,n=u.data,i=u.config,s.post(this.urlBuilder(r),n,this.requestConfigurationMapper(i)).then(angular.bind(this,function(t){return e.$broadcast("Online"),t=this.triggerResponseInterceptors(t),{data:t.data,status:t.status}}),angular.bind(this,function(e){return this.triggerErrorInterceptors(e),e.status<=0&&i&&"queue"===i.offline&&!i.fromQueue?(this.queueRequest("post",r,n,i),e.status="queue",t.when(e)):t.reject(e)}))},this.put=function(r,n,i){var u=this.triggerRequestInterceptors(r,n,i);return r=u.url,n=u.data,i=u.config,s.put(this.urlBuilder(r),n,this.requestConfigurationMapper(i)).then(angular.bind(this,function(t){return e.$broadcast("Online"),t=this.triggerResponseInterceptors(t),{data:t.data,status:t.status}}),angular.bind(this,function(e){return this.triggerErrorInterceptors(e),e.status<=0&&i&&"queue"===i.offline&&!i.fromQueue?(this.queueRequest("put",r,n,i),e.status="queue",t.when(e)):t.reject(e)}))},this.delete=function(r,n){var i=this.triggerRequestInterceptors(r,null,n);return r=i.url,n=i.config,s.delete(this.urlBuilder(r),this.requestConfigurationMapper(n)).then(angular.bind(this,function(t){return e.$broadcast("Online"),t=this.triggerResponseInterceptors(t),{data:t.data,status:t.status}}),angular.bind(this,function(e){return this.triggerErrorInterceptors(e),e.status<=0&&n&&"queue"===n.offline&&!n.fromQueue?(this.queueRequest("delete",r,void 0,n),e.status="queue",t.when(e)):t.reject(e)}))},this.getFromLocalStorage=function(e){var t=r.localStorage.getItem(e);try{t=angular.fromJson(t)}finally{return t}},this.getFromSessionStorage=function(e){var t=r.sessionStorage.getItem(e);try{t=angular.fromJson(t)}finally{return t?{data:t}:t}},this.storeInLocalStorage=function(e,t){angular.isString(t)||(t=angular.toJson(t)),r.localStorage.setItem(e,t)},this.storeInSessionStorage=function(e,t){angular.isString(t)||(t=angular.toJson(t)),r.sessionStorage.setItem(e,t)},this.removeFromLocalStorage=function(e){r.localStorage.removeItem(e)},this.removeFromSessionStorage=function(e){r.sessionStorage.removeItem(e)},this.addMessageForQueuedRequest=function(e,t,s,r,n){var o,a;if(200===n.status?(o="Queued request submitted successfully: "+e+" to endpoint "+t+", status: "+n.status,a="success"):409===n.status?(o="Queued request failed to be submitted due to a conflict: "+e+" to endpoint "+t+", status: "+n.status,a="danger"):500===n.status&&(o="Queued request failed to be submitted due to a server error: "+e+" to endpoint "+t+", status: "+n.status,a="danger"),this.configuration.queuedRequestMessages&&0!==Object.keys(this.configuration.queuedRequestMessages).length){this.configuration.queuedRequestMessages[e][t]?this.configuration.queuedRequestMessages[e][t][n.status]&&(o=this.configuration.queuedRequestMessages[e][t][n.status],o=i(o)({verb:e,url:t,data:s,config:r,response:n})):this.configuration.queuedRequestMessages[e][t.substring(0,t.lastIndexOf("/"))][n.status]&&(o=this.configuration.queuedRequestMessages[e][t.substring(0,t.lastIndexOf("/"))][n.status],o=i(o)({verb:e,url:t,data:s,config:r,response:n}))}u.addMessage({message:o,type:a,multiple:!1,errorOnStateChange:!1,timeout:20})},this.processOfflineQueue=function(e){var t=this.getFromLocalStorage("offlineQueue");this.removeFromLocalStorage("offlineQueue"),e();for(var s=t.shift();s;){s.config.fromQueue=!0;var r;r="delete"===s.verb?this.delete(s.url,s.config):this[s.verb](s.url,s.data,s.config);var n=angular.bind(this,function(e,t){this.addMessageForQueuedRequest(e.verb,e.url,e.data,e.config,t)},s);r.then(n,n),s=t.shift()}},this.setupQueueTrigger=function(){var t=e.$on("Online",angular.bind(this,function(){this.processOfflineQueue(t)}))},this.queueRequest=function(e,t,s,r){var n=this.getFromLocalStorage("offlineQueue");n?(n.push({verb:e,url:t,data:s,config:r}),this.storeInLocalStorage("offlineQueue",n)):(this.storeInLocalStorage("offlineQueue",[{verb:e,url:t,data:s,config:r}]),this.setupQueueTrigger())},this.getFromLocalStorage("offlineQueue")&&this.setupQueueTrigger(),this.requestInterceptors=[],this.responseInterceptors=[],this.errorInterceptors=[],this.addRequestInterceptor=function(e){this.requestInterceptors.push(e)},this.triggerRequestInterceptors=function(e,t,s){for(var r=0;r<this.requestInterceptors.length;){var n=this.requestInterceptors[r](e,t,s);n&&(n.url&&(e=n.url),n.data&&(t=n.data),n.config&&(s=n.config)),r++}return{url:e,data:t,config:s}},this.addResponseInterceptor=function(e){this.responseInterceptors.push(e)},this.triggerResponseInterceptors=function(e){for(var t=0;t<this.responseInterceptors.length;){var s=this.responseInterceptors[t](e);s&&(e=s),t++}return e},this.addErrorInterceptor=function(e){this.errorInterceptors.push(e)},this.triggerErrorInterceptors=function(e){for(var t=0;t<this.errorInterceptors.length;)this.errorInterceptors[t](e),t++},this._lastPingRequestTimestamp=0,this._trustedResponse="",this._pendingRequests=0,this._currentPingRequestPromise={},this._networkStatusResponses=["online","unauthenticated","offline"],this.getNetworkState=function(){if(this._pendingRequests>0)return this._currentPingRequestPromise;var r=new Date;return r-this._lastPingRequestTimestamp>this.configuration.pingTrustPeriodMS?(this._pendingRequests++,this._lastPingRequestTimestamp=r,this._trustedResponse="",this._currentPingRequestPromise=s.get(this.urlBuilder(this.configuration.unprotectedPingRoute),this.requestConfigurationMapper(this.configuration)).then(angular.bind(this,function(){return this._pendingRequests--,this._currentPingRequestPromise={},this._trustedResponse=this._networkStatusResponses[1],this.configuration.unAuthenticatedCallback(),e.$broadcast("Unauthenticated"),t.when(this._networkStatusResponses[1])}),angular.bind(this,function(){return this._pendingRequests--,this._currentPingRequestPromise={},this._trustedResponse=this._networkStatusResponses[2],e.$broadcast("Offline"),t.when(this._networkStatusResponses[2])})),this._currentPingRequestPromise):t.when(this._trustedResponse)}}]);
angular.module("WebCoreModule").service("WcImageFileService",["$q","$window",function(e){this.loadImage=angular.bind(this,function(t,n,a){var r=e.defer(),i=this.generateCanvas();i.width=n,i.height=a;var o=i.getContext("2d"),u=new Image;return u.onload=function(){o.drawImage(u,0,0,i.width,i.height),r.resolve(i)},u.src=t,r.promise}),this.createImageURI=function(t,n,a){return n=n||200,a=a||200,this.loadImage(t,n,a).then(function(t){return e.when(t.toDataURL("image/jpeg",1))})},this.generateCanvas=function(){return document.createElement("canvas")}}]);
angular.module("WebCoreModule").provider("WcTranslateConfiguratorService",["$translateProvider",function(a){this.translateProvider=a,this.configuration={sanitizationStrategy:"escape",loader:"$translatePartialLoader",loaderObj:{urlTemplate:"translations/{lang}/{part}.json"},langKeyArray:["en","zh","ru"],langKeyObj:{"en_*":"en","en-*":"en",zh_CN:"zh",zh_HK:"zh",ru_RU:"ru"},fallbackLang:"en"},this.configureTranslateService=function(e){e&&angular.extend(this.configuration,e),a.useSanitizeValueStrategy(this.configuration.sanitizationStrategy),a.useLoader(this.configuration.loader,this.configuration.loaderObj),a.registerAvailableLanguageKeys(this.configuration.langKeyArray,this.configuration.langKeyObj),a.determinePreferredLanguage(),a.fallbackLanguage(this.configuration.fallbackLang),a.use(a.preferredLanguage())},this.$get=["$translate","$translatePartialLoader",function(a,e){return this.loadPartAndRefresh=function(r){e.addPart(r),a.refresh()},this}]}]);
angular.module("WebCoreModule").service("WcWebtrendsService",["$rootScope","$window","$state","$timeout",function(t,e,a,n){this._enabled=!1,this.enable=function(){this._enabled=!0},this.trackData=function(){var t,n;return""!==e.location.hash&&(n=e.location.hash+e.location.search),(t=n&&n.replace("#/","")!==a.$current.name?n+":"+a.$current.name:n)||(t=":"+a.$current.name),e.dcsMultiTrack("DCS.dcsuri",t),t},t.$on("$stateChangeSuccess",angular.bind(this,function(){this._enabled&&e.dcsMultiTrack&&n(angular.bind(this,function(){t.$apply(),this.trackData()}))}))}]);
angular.module("WebCoreModule").factory("WcDateRangePickerPrototype",["$rootScope",function(t){function e(e){var a,n,i,s,r,d,l;e&&(a=e.startDate?e.startDate:null,n=e.endDate?e.endDate:null,i=e.minDate?e.minDate:null,s=e.maxDate?e.maxDate:null,r=e.startDateFieldName?e.startDateFieldName:null,d=e.endDateFieldName?e.endDateFieldName:null,l=e.form?e.form:null),this.isStartDateOpen=!1,this.isEndDateOpen=!1,this.load(a,n,i,s),t.$watch(angular.bind(this,function(){return this.startDate}),angular.bind(this,function(t,e){t!==e&&(this.minEndDate=t||this.minDate)})),t.$watch(angular.bind(this,function(){return this.endDate}),angular.bind(this,function(t,e){t!==e&&(this.maxStartDate=t||this.maxDate)})),l&&r&&d?t.$watch(function(){var t=l.$error["date-disabled"];return t?t.length:0},angular.bind(this,function(t){var e=l.$error["date-disabled"];if(t>0)for(var a=0;a<e.length;a++)e[a].$viewValue===l[r].$viewValue?l[r].$setValidity("dateRange",!e[a].$error["date-disabled"]):l[d].$setValidity("dateRange",!e[a].$error["date-disabled"]);else l[r].$setValidity("dateRange",!0),l[d].$setValidity("dateRange",!0)})):console.log("The DateRangePicker cannot support validation indicators without having been provided the formObj and the field names.")}return e.prototype.load=function(t,e,a,n){this.startDate=t||null,this.endDate=e||null,this.minDate=a||null,this.maxDate=n||null,this.minStartDate=this.minDate,this.maxStartDate=this.endDate?this.endDate:this.maxDate,this.minEndDate=this.startDate?this.startDate:this.minDate,this.maxEndDate=this.maxDate},e.prototype.openStartDate=function(t){t.preventDefault(),t.stopPropagation(),!0===this.isStartDateOpen?this.isStartDateOpen=!1:(this.isStartDateOpen=!0,this.isEndDateOpen=!1)},e.prototype.openEndDate=function(t){t.preventDefault(),t.stopPropagation(),!0===this.isEndDateOpen?this.isEndDateOpen=!1:(this.isEndDateOpen=!0,this.isStartDateOpen=!1)},e}]);
angular.module("WebCoreModule").factory("WcHttpEndpointPrototype",["WcHttpRequestService",function(t){function e(t,e){this.baseUrl=e,this.route=t,e&&(this.route=this.baseUrl+this.route)}return e.prototype={subRoute:function(t){return new e(this.route+"/"+t)},get:function(e){return t.get(this.route,e)},post:function(e,u){return t.post(this.route,e,u)},put:function(e,u,r){return t.put(this.route+"/"+e,u,r)},delete:function(e,u){return t.delete(this.route+"/"+e,u)}},e}]);
angular.module("WebCoreModule").directive("required",["WcTranslateConfiguratorService","$compile","$timeout",function(e,r,i){return{restrict:"A",require:["required"],controller:["$scope","$element","$attrs","WcTranslateConfiguratorService",function(e,t,s,n){n.loadPartAndRefresh("WC-dataTable"),this.insertionPoint=$('label[for="'+s.id+'"]'),"checkbox"!=t[0].type&&"radio"!=t[0].type||(this.insertionPoint=t.closest("fieldset").find("legend")),this.formElem=this.insertionPoint.closest("form"),this.addLabels=function(s,a){n.loadPartAndRefresh("WC-required"),i(angular.bind(this,function(){0!==this.insertionPoint.has('abbr[title="Required"]').length||a.disabled||a.readonly||this.insertionPoint.prepend('<abbr class="required h6" title="Required">*</abbr>'),t[0].hasAttribute("wc-responsive-table")&&(this.formGroup=t.closest("form").find(".form-group").first(),this.formGroup.prepend(r('<div><abbr class="required h6" title="Required">*</abbr> <span>{{"tableSelectionRequired" | translate}}</span></div>')(e)),this.formElem=t.closest("form")),(0===this.formElem.has("div.required-legend").length&&!a.disabled&&!a.readonly||t[0].hasAttribute("wc-responsive-table"))&&this.formElem.prepend(r('<div class="required-legend hidden-xs"><span class="required-text"><abbr class="required h6" title="Required">*</abbr> {{"required.requiredText" | translate}}</span></div>')(s))}),100)}}],link:function(e,r,i,t){t[0].addLabels(e,i)}}}]);
angular.module("WebCoreModule").directive("form",function(){return{restrict:"E",link:function(e){e.$on("$viewContentLoaded",angular.bind(this,function(){$("[required]").length<1&&$(".required-legend").remove()}))}}});
angular.module("WebCoreModule").directive("ngRequired",["WcTranslateConfiguratorService","$compile","$timeout",function(e,r,i){return{restrict:"A",require:["ngRequired","^form"],scope:{ngRequired:"="},controller:["$scope","$element","$attrs",function(t,n,o){this.insertionPoint=$('label[for="'+o.id+'"]'),"checkbox"!==n[0].type&&"radio"!==n[0].type||(this.insertionPoint=n.closest("fieldset").find("legend")),this.formElem=this.insertionPoint.closest("form");var s=function(e){var r=[];return angular.forEach(e,function(e){"object"==typeof e&&e.hasOwnProperty("$valid")&&this.push(e)},r),r};this.calculateNumRequiredFields=function(e){var r=s(e),i=0;return angular.forEach(r,function(e){e.$error.required&&i++}),i},this.addLabels=function(t,n){e.loadPartAndRefresh("WC-required"),i(angular.bind(this,function(){0!==this.insertionPoint.has('abbr[title="Required"]').length||n.disabled||n.readonly||this.insertionPoint.prepend('<abbr class="required h6" title="Required">*</abbr>'),0!==this.formElem.has("div.required-legend").length||n.disabled||n.readonly||this.formElem.prepend(r('<div class="required-legend hidden-xs"><span class="required-text"><abbr class="required h6" title="Required">*</abbr> {{"required.requiredText" | translate}}</span></div>')(t))}),0)},this.removeLabels=function(e){this.insertionPoint.find("abbr.required").remove(),0===this.calculateNumRequiredFields(e)&&this.formElem.find("div.required-legend").remove()}}],link:function(e,r,i,t){var n=t[0],o=t[1];e.$watch(function(){return e.ngRequired},function(r){r?n.addLabels(e,i):n.removeLabels(o)})}}}]);
angular.module("WebCoreModule").directive("wcAlertConsole",function(){return{restrict:"A",template:"<div id=\"alert-console\"><div class=\"alert alert-dismissable\"ng-swipe-right=\"closeAlert(alert.uniqueishID)\" role=\"alert\" ng-repeat=\"alert in visibleMessages\" type=\"{{alert.type}}\" ng-class=\"{'zoom-out-animate': alert.fadeOut, 'fade-out': alert.fadeOut, 'alert-success' : alert.type == 'success', 'alert-danger' : alert.type == 'danger', 'alert-warning' : alert.type == 'warning', 'alert-info' : alert.type == 'info'}\"> <span class=\"glyphicon\" ng-class=\"{'glyphicon-ok': alert.type == 'success', 'glyphicon-warning-sign': alert.type == 'warning', 'glyphicon-remove-circle': alert.type == 'danger', 'glyphicon-info-sign' : alert.type == 'info'}\"></span><button class=\"close\" ng-click=\"closeAlert(alert.uniqueishID)\"><span aria-hidden=\"true\">&#120;</span><span class=\"sr-only\">Close</span></button><div><span ng-bind-html=\"alert.message\"></span>\x3c!--<progressbar ng-if=\"!alert.persist\" class=\"progress-striped active\" value=\"100 - alert.timeout*10\" type=\"{{alert.type}}\"></progressbar>--\x3e</div></div></div>",replace:!1,controller:["$scope","WcAlertConsoleService","$timeout",function(e,t,s){e.visibleMessages=[],e.closeAlert=function(e){t.removeMessage(e,!0)},t.getSettings().removeErrorOnStateChange&&e.$on("$stateChangeStart",function(){t.removeErrorMessages()}),e.$watch(function(){return t.getMessages(!0)},function(t,r){e.visibleMessages=t,s(function(){if(t.length>r.length){var e=$(document).scrollTop(),s=$("div.alert").last().offset();(s=s.top-15)<e&&$("html, body").animate({scrollTop:s},100)}},0)},!0)}]}});
angular.module("WebCoreModule").directive("wcChart",["Chart",function(t){return{restrict:"E",scope:{data:"&data",options:"&options",type:"@",height:"="},replace:!0,template:"<canvas></canvas>",link:function(a,i){var e;a.data=a.data(),a.options=a.options(),this.defaultOptions={responsive:!0,maintainAspectRatio:!1},$.extend(a.options,this.defaultOptions),this.height=a.height||300,i.wrap("<div style='height:"+this.height+"px ' class='chart-container'></div>");var n=i[0];a.$watch("data",angular.bind(this,function(i){i&&(this.destroyChart(),(e=new t(n,{type:a.type,data:a.data,options:a.options})).resize())},!0)),a.$on("$destroy",angular.bind(this,function(){this.destroyChart()})),this.destroyChart=function(){e&&e.destroy()},a.$on("update",angular.bind(this,function(){e.update()}))}}}]);
angular.module("WebCoreModule").directive("wcCheckAllNone",function(){return{restrict:"AE",require:["wcCheckAllNone","?^datatable"],scope:{targetContainerId:"@targetContainerId"},template:'<a class="select-all" href="javascript:;" ng-click="checkAllNoneController.checkAll()">{{"actions.selectAll" | translate}}</a> | <a class="select-none" href="javascript:;" ng-click="checkAllNoneController.checkNone()">{{"actions.selectNone"| translate}}</a>',controllerAs:"checkAllNoneController",controller:["$scope","$element","WcTranslateConfiguratorService",function(e,l,t){t.loadPartAndRefresh("WC-checkAllNone"),this.responsiveTableController=angular.element("#"+e.targetContainerId).controller("wcResponsiveTable"),e.viewScope=e.$parent,e.toggleCheckAllExists=!1,e.setToggleCheckAllExists=function(l){e.toggleCheckAllExists=l},e.getToggleCheckAllExists=function(){return e.toggleCheckAllExists},this.checkAll=function(){if(this.responsiveTableController)this.responsiveTableController.WcTableScopeService.getTableScope().$broadcast("table.select.checkbox.all"),this.responsiveTableController.WcTableScopeService.getTableScope().$broadcast("table.select.button.all"),$("#"+e.targetContainerId).find('input[type="checkbox"].wc-header-checkbox').prop("checked",!0);else{var l=$("#"+e.targetContainerId).find('input[type="checkbox"]:not(.toggle-check-all)');angular.forEach(l,function(e){e.checked||e.click(),e.checked=!0})}},this.checkNone=function(){if(this.responsiveTableController)this.responsiveTableController.WcTableScopeService.getTableScope().$broadcast("table.select.checkbox.none"),this.responsiveTableController.WcTableScopeService.getTableScope().$broadcast("table.select.button.none"),$("#"+e.targetContainerId).find('input[type="checkbox"].wc-header-checkbox').prop("checked",!1);else{var l=$("#"+e.targetContainerId).find('input[type="checkbox"]:not(.toggle-check-all)');angular.forEach(l,function(e){e.checked&&e.click(),e.checked=!1})}}}],link:function(e,l,t,c){var o=c[1];o&&e.setToggleCheckAllExists(o.getToggleCheckAllExists())}}});
angular.module("WebCoreModule").directive("wcClickOnce",["$timeout",function(t){return{restrict:"A",priority:-1,link:function(n,i){var o=!1,c=function(i){o?(n.$broadcast("onClickOnce"),i.preventDefault(),i.stopImmediatePropagation()):(o=!0,t(function(){o=!1},500,!1))};n.$on("$destroy",function(){i.off("click",c)}),i.on("click",c)}}}]);
angular.module("WebCoreModule").directive("wcContinueIfValid",["$timeout",function(t){return{restrict:"A",required:"^ngController",controller:["$state","$element","$scope",function(t,a,n){t.$current.data=t.$current.data||{},t.$current.data.workflow=t.$current.data.workflow||null,t.$current.data.workflow?this.isWorkflowEnabled=!0:this.isWorkflowEnabled=!1,this.getWorkflowData=function(){return t.$current.data.workflow},this.navigateToState=function(a,n,e){var o={name:this.getWorkflowData().nextState,params:{},options:{location:!1,reload:!1}};1==arguments.length?o.name=a:arguments.length>1&&(a&&(o.name=a),n&&(o.params=n),e&&angular.extend(o.options,e)),t.go(o.name,o.params,o.options)},this.clickHandler=angular.bind(this,function(t){var n=this.getWorkflowData().controllerContinueCallbackFunctionName;if(n){var e=t[n](a);e?e.then?e.then(angular.bind(this,function(t){this.navigateToState(t.name,t.params,t.options)}),angular.bind(this,function(t){this.navigateToState(t.name,t.params,t.options)})):this.navigateToState(e.name,e.params,e.options):this.navigateToState()}else this.navigateToState()})}],link:function(a,n,e,o){n.on("click",function(){t(function(){var t=n.controller(),e=n[0].form.name,i=a[e];i||(i=a.$parent[e]),i.$valid&&(i.$setPristine(),o.isWorkflowEnabled?o.clickHandler(t):a.$broadcast("navigateToNextState"))},0)})}}}]);
angular.module("WebCoreModule").directive("wcFileUploadImage",function(){return{restrict:"E",scope:{},bindToController:{onUpload:"&",fileTypes:"&"},template:['<div ng-show="ctrl.webcamPresent" class="row">','<div class="col-md-12">','<div class="row">','<div class="col-md-3 col-md-offset-1" id="wc-file-upload-image-camera"></div>',"</div>",'<div class="row">','<div class="col-md-4 col-md-offset-1">','<button type="button" class="btn btn-tertiary " ng-click="ctrl.turnCameraOff()">Camera Off</button>','<button type="button" class="btn btn-tertiary" ng-click="ctrl.turnCameraOn()">Camera On</button>','<button type="button" class="btn btn-primary" ng-click="ctrl.capturePicture()">Take Picture</button>',"</div>","</div>","</div>","</div>",'<div class="row">','<div class="col-md-12">','<div class="row">','<div class="col-md-3 col-md-offset-1">','<input wc-input-file="ctrl.chooseImageUpload" file-types="ctrl.fileTypes()" class="form-control" type="file" accept="image/">',"</div>","</div>",'<div class="row">','<div class="col-md-2 col-md-offset-1">','<button type="button" class="btn btn-primary" type="submit" ng-click="ctrl.prepareForUpload()">Upload Photo</button>','<button type="button" class="btn btn-secondary" type="reset" ng-click="ctrl.cancel()">Cancel</button>','<button type="button" class="btn btn-secondary" type="submit" ng-click="ctrl.addImages()">Add Images</button>',"</div>","</div>","</div>","</div>"].join(""),controllerAs:"ctrl",controller:["$rootScope","WcCameraService","WcImageFileService","WcDataFileService","$scope",function(e,t,a,i){this.cameraElement=$("#wc-file-upload-image-camera"),this.chooseImageUpload=null,this.snapshotToUpload=null,this.webcamPresent=!1,t.checkForCamera().then(angular.bind(this,function(e){e&&(t.setCameraSize(800,600),this.webcamPresent=!0)})).catch(function(e){console.log(e)}),this.cancel=function(){this.chooseImageUpload=null,this.snapshotToUpload=null,this.previewImageElement&&(this.previewImageElement.remove(),delete this.previewImageElement,this.cameraElement.append(this.videoElement),this.videoElement.get(0).play())},this.capturePicture=function(){var e;0===this.cameraElement.find("img").length&&t.cameraIsOn&&(e=t.takePicture(),this.previewImageElement=$("<img>").attr("src",e),this.videoElement.remove(),this.cameraElement.append(this.previewImageElement),this.snapshotToUpload=e)},this.prepareForUpload=function(){var e=this.chooseImageUpload||this.snapshotToUpload,t={};e&&"string"!=typeof e&&e.length>0?i.readFile(e[0]).then(function(n){var o=i.prepareForFileUpload(n);return t.imageBase64String=o.base64String,t.imageMIMEType=o.MIMEType,t.fileType=i.getFileType(e[0]),t.description="...",a.createImageURI(n)}).then(angular.bind(this,function(e){var a=i.prepareForFileUpload(e);t.thumbnailBase64String=a.base64String,t.thumbnailMIMEType=a.MIMEType,this.onUpload({imageObject:t}),this.cancel(),this.original=$("<img>").attr("src",t.imageData),this.thumb=$("<img>").attr("src",e)})):"string"==typeof e&&a.createImageURI(e).then(angular.bind(this,function(a){t.imageData=e,t.thumbnailData=a,t.fileType="jpeg",t.description="...",this.original=$("<img>").attr("src",t.imageData),this.thumb=$("<img>").attr("src",t.thumbnailData),this.onUpload({imageObject:t}),this.cancel()}))},this.turnCameraOff=function(){t.stopCamera(),this.videoElement.remove()},this.turnCameraOn=function(){this.webcamPresent&&!t.cameraIsOn&&t.returnVideoElement().then(angular.bind(this,function(e){this.videoElement=e,$("#wc-file-upload-image-camera").append(this.videoElement),t.startCamera()})).catch(function(e){console.log(e)})}}],link:function(e,t,a,i){i.addImages=function(){t.append(i.original),t.append(i.thumb)}}}});
angular.module("WebCoreModule").directive("wcInputFile",["_",function(e){return{scope:{},bindToController:{wcInputFile:"=",fileTypes:"&"},controllerAs:"ctrl",controller:["$scope","$element","WcDataFileService",function(n,l,t){var i=this;this.onChange=function(o){var c,r=o.target.files;n.$apply(function(){void 0!==i.fileTypes()&&i.fileTypes().length>0&&(c=e.map(r,function(e){return t.getFileType(e)}).filter(function(e){return i.fileTypes().indexOf(e)>=0})),c&&c.length!==r.length?l.val(null):i.wcInputFile=r})}}],link:function(e,n,l,t){n.bind("change",t.onChange),e.$watch(function(){return t.wcInputFile},function(e){console.log("log"),null===e&&n.val(null)})}}}]);
angular.module("WebCoreModule").directive("wcLoadingIndicator",function(){return{restrict:"A",template:'<div id="loading-cover"></div><div id="loading-indicator"><span>Loading...</span></div>',controller:["$scope","WcHttpRequestService",function(n,i){var t=0,a=!1;return this.showLoadingIndicator=function(){$("#loading-cover").show().animate({opacity:1},300),$("#loading-indicator").show().animate({opacity:1},300)},this.hideLoadingIndicator=function(){$("#loading-indicator").hide().animate({opacity:0},10),$("#loading-cover").hide().animate({opacity:0},10)},this.incrementPendingCounterAndShow=angular.bind(this,function(){1===++t&&this.showLoadingIndicator()}),this.decrementPendingCounterAndHide=angular.bind(this,function(){0===--t&&this.hideLoadingIndicator()}),i.addRequestInterceptor(angular.bind(this,function(){this.incrementPendingCounterAndShow()})),i.addErrorInterceptor(angular.bind(this,function(){a||this.decrementPendingCounterAndHide()})),i.addResponseInterceptor(angular.bind(this,function(){var n=arguments[0];return a||this.decrementPendingCounterAndHide(),n})),n.$on("$stateChangeStart",angular.bind(this,function(){a=!0})),this.hideLoadingIndicatorCallback=angular.bind(this,function(){t=0,a=!1,this.hideLoadingIndicator()}),n.$on("$stateChangeError",this.hideLoadingIndicatorCallback),n.$on("$viewContentLoaded",this.hideLoadingIndicatorCallback),n.$on("Unauthenticated",this.hideLoadingIndicatorCallback),n.$on("Offline",this.hideLoadingIndicatorCallback),n.loadingIndicator=this}]}});
angular.module("WebCoreModule").directive("wcNavMenu",function(){return{restrict:"A",scope:{menuData:"=menuData",menuDataUrl:"@menuDataUrl"},transclude:!0,template:'<nav class="navbar navbar-default" role="navigation"><div class="container-fluid"><div class="navbar-header visible-xxs"><button id="toggle-nav-menu-collapse" type="button" class="navbar-toggle collapsed" ng-click="toggleNavbarCollpase($event)" aria-expanded="false"><span class="sr-only">{{\'application.navigation.toggleTitle\' | translate}}</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button></div><div uib-collapse="navbarCollapsed" class="collapse navbar-collapse" id="primary-nav" role="menu"><ul class="nav navbar-nav"><li role="menuitem"  wc-protected-resource="{{menu.protected}}" ng-repeat="menu in menuData" ng-class="{dropdown:menu.subMenu}" ui-sref-active="active"><a ng-click="collapseNavbar()" ng-if="!menu.subMenu" ui-sref="{{menu.state | translate}}" ui-sref-opts="{reload: true, notify: true}">{{menu.label | translate}}\t\t\t\t\t\t</a><a ng-if="menu.subMenu" ng-click="MainMenuCollpase($event)"  role="button"  aria-expanded="false" href class="dropdown-toggle" data-toggle="dropdown">{{menu.label | translate}}<span ng-if="menu.subMenu" class="caret"></span></a><wc-sub-menu></wc-sub-menu></li></ul><span ng-transclude></span></div></div></nav>',controller:["$scope","$element","$attrs","$http",function(e,a,n,t){e.menuDataUrl&&t.get(e.menuDataUrl).success(function(a){e.menuData=a}),e.$on("$stateChangeStart",function(){$("nav .in, nav .open").removeClass("in open")}),e.$on("collapseNavBar",function(){e.collapseNavbar()}),e.navbarCollapsed=!0,e.MainMenuCollpase=function(e){e.stopPropagation(),$(e.target.parentElement).parent().find("li.dropdown,li.dropdown-submenu").not(e.target.parentElement).removeClass("open"),$(e.target.parentElement).toggleClass("open")},e.toggleNavbarCollpase=function(){e.navbarCollapsed=!e.navbarCollapsed},e.collapseNavbar=function(){}}]}}).directive("wcSubMenu",["$compile",function(e){return{restrict:"E",scope:!0,link:function(a,n){if(a.collapasesubMenu=function(e){e.stopPropagation(),n=e.target.parentElement,$(n).toggleClass("open")},a.menu){var t=angular.element('<ul class="dropdown-menu"><li wc-protected-resource="{{menu.protected}}" ng-repeat="menu in menu.subMenu" ng-class="{\'dropdown-submenu\':menu.subMenu}" ui-sref-active="active"><a  ng-if="!menu.subMenu" ui-sref="{{menu.state | translate}}" ui-sref-opts="{reload: true, notify: true}">{{menu.label | translate}}</a><a ng-if="menu.subMenu" ng-click="collapasesubMenu($event)" href>{{menu.label | translate}}</a><wc-sub-menu  ng-if="menu.subMenu"></wc-sub-menu></li></ul>');e(t)(a),n.replaceWith(t)}else n.remove()}}}]);
angular.module("WebCoreModule").config(["$provide",function(t){t.decorator("ngModelDirective",["$delegate",function(t){var e=t[0],o=(e.link,function(t){var e=t.nodeName.toLowerCase();if("#comment"===t.nodeName.toLowerCase())return!1;var o=void 0;return"string"==typeof t.type&&(o=t.type.toLowerCase()),"textarea"===e&&!t.hasAttribute("maxlength")||"div"===e&&!t.classList.contains("ui-select-bootstrap")&&!t.hasAttribute("wc-data-table")&&!t.hasAttribute("uib-datepicker-popup-wrap")||"input"===e&&"checkbox"!==o&&"radio"!==o&&!t.hasAttribute("uib-typeahead")&&!t.hasAttribute("uib-datepicker-popup")}),a=e.compile;return e.compile=function(){var t=a.apply(this,arguments);return{pre:function(e,a,r,i){i[2]||(i[2]={});var n=i[2];void 0===n.$options&&o(a[0])&&(n.$options={updateOn:"blur",updateOnDefault:!1}),t.pre.apply(this,arguments)},post:t.post}},t}])}]);
angular.module("WebCoreModule").directive("wcOfflineIndicator",function(){return{restrict:"A",template:'<div><div id="offline-indicator" class="container-fluid" ng-switch="checking"><uib-alert type="warning"><span class="glyphicon glyphicon-warning-sign" ng-switch-when="false"></span><span class="glyphicon glyphicon-refresh glyphicon-refresh-animate" ng-switch-when="true"></span><span>{{\'offlineIndicator.offlineMessage\'|translate}} <a href ng-click="checkNetworkState()">{{\'offlineIndicator.retryConnection\'|translate}}</a></span></uib-alert></div><div id="unavailable-offline" class="container-fluid" ng-switch="checking"><uib-alert type="danger"><span class="glyphicon glyphicon-remove-circle" ng-switch-when="false"></span><span class="glyphicon glyphicon-refresh glyphicon-refresh-animate" ng-switch-when="true"></span><span>{{\'offlineIndicator.unavailableMessage\'|translate}} <a href ng-click="checkNetworkState()">{{\'offlineIndicator.retryConnection\'|translate}}</a></span></uib-alert></div><div id="unauth-indicator" class="container-fluid" ng-switch="checking"><uib-alert type="warning"><span class="glyphicon glyphicon-warning-sign" ng-switch-when="false"></span><span class="glyphicon glyphicon-refresh glyphicon-refresh-animate" ng-switch-when="true"></span><span>{{\'unauthIndicator.unauthMessage\'|translate}} <a href ng-click="wslLogin()">{{\'unauthIndicator.wslLogin\'|translate}}</a></span></uib-alert></div></div>',replace:!0,controller:["WcHttpRequestService","$scope","$window","$timeout","$state","WcTranslateConfiguratorService","WcConstants",function(n,i,e,a,t,l,s){return l.loadPartAndRefresh("WC-offlineIndicator"),$("#offline-indicator").hide(),$("#unavailable-offline").hide(),$("#unauth-indicator").hide(),i.checking=!1,this.showOfflineIndicator=function(){$("#offline-indicator").show();var n=$("#offline-indicator .alert");n.addClass("pulse"),a(function(){n.removeClass("pulse")},2e3),e.scrollTo(0,1)},this.hideOfflineIndicator=function(){$("#offline-indicator").hide()},this.showUnavailableOffline=function(){$("#unavailable-offline").show();var n=$("#unavailable-offline .alert");n.addClass("pulse"),a(function(){n.removeClass("pulse")},2e3),e.scrollTo(0,1)},this.hideUnavailableOffline=function(){$("#unavailable-offline").hide()},this.showUnauthIndicator=function(){$("#unauth-indicator").show();var n=$("#unauth-indicator .alert");n.addClass("pulse"),a(function(){n.removeClass("pulse")},2e3),e.scrollTo(0,1)},this.hideUnauthIndicator=function(){$("#unauth-indicator").hide()},i.checkNetworkState=function(){i.checking=!0,n.getNetworkState().then(function(n){"unauthenticated"===n&&i.wslLogin(),i.checking=!1})},i.wslLogin=function(){e.location.href=s.wslBaseUrl+encodeURIComponent(e.location.href)},n.addResponseInterceptor(angular.bind(this,function(){this.hideOfflineIndicator(),this.hideUnavailableOffline(),this.hideUnauthIndicator()})),i.$on("Offline",angular.bind(this,function(){t.current.data&&t.current.data.unavailableOffline?(this.hideOfflineIndicator(),this.showUnavailableOffline(),this.hideUnauthIndicator()):(this.showOfflineIndicator(),this.hideUnavailableOffline(),this.hideUnauthIndicator())})),i.$on("Unauthenticated",angular.bind(this,function(){this.showUnauthIndicator(),this.hideOfflineIndicator(),this.hideUnavailableOffline()})),i.offlineIndicator=this}]}});
angular.module("WebCoreModule").directive("wcPageTitle",function(){return{restrict:"A",controller:["$scope","$state","$compile",function(e,t,a){var n=!0;e.pageTitle="",this.cleanUpName=function(e){var t=e;return t=t.replace(/-/g," "),t=t.replace(/\b./g,function(e){return e.toUpperCase()})},this.updatePageTitle=function(){var a,n=$("#ng-app").attr("ng-app").replace("Module",""),r=this.cleanUpName(t.$current.name);t.$current.parent&&(a=this.cleanUpName(t.get(t.$current.parent).name));var i;i=a&&a.replace(/ /g,"")!==n?a+": "+r+" | "+n:r+" | "+n,e.pageTitle=i},e.$on("$viewContentLoaded",angular.bind(this,function(){if(n){var t=$("title").attr({"wc-page-title":"","ng-bind":"pageTitle"});t.replaceWith(a(t)(e)),n=!1}this.updatePageTitle()}))}]}});
angular.module("WebCoreModule").directive("wcPagination",["$templateCache","$compile",function(e,t){return{restrict:"A",priority:1,scope:{wcPagination:"=",location:"@",resultsPerPage:"&",resultsPerPageText:"@",showingResultsText:"@",resultsItemCount:"&",responsiveBreakpoints:"&"},controller:["$scope","$window","_",function(e,t,s){e.searchResults=e.wcPagination,angular.isArray(e.resultsPerPage())?e.resultsPerPage=e.resultsPerPage():e.resultsPerPage=[10,25,50,100],angular.isArray(e.responsiveBreakpoints())?e.responsiveBreakpoints=e.responsiveBreakpoints():e.responsiveBreakpoints=[430,500,600,900],e.resultsPerPageText||(e.resultsPerPageText="Results per page: "),e.showingResultsText||(e.showingResultsText="Showing results "),angular.isNumber(e.resultsItemCount())?e.resultsItemCount=e.resultsItemCount():e.resultsItemCount=e.resultsPerPage[0],e.totalItems=e.searchResults.length,e.itemsPerPage=e.resultsItemCount,e.currentPage=1,e.boundaryLinks=!0,e.maxSize=5,e.filteredSearchResults=[],e.updatePageResultsCount=function(){e.itemsPerPage=e.resultsItemCount},e.begin=1,e.end=e.begin+e.itemsPerPage,e.$watchCollection(function(){return e.currentPage+e.itemsPerPage},function(){e.begin=(e.currentPage-1)*e.itemsPerPage,e.end=e.begin+e.itemsPerPage,e.end>e.totalItems&&(e.end=e.totalItems),e.wcPagination=e.searchResults.slice(e.begin,e.end),t.scrollTo(0,1)}),e.currentBreakpoint="",e.$watch(function(){return e.currentBreakpoint},function(t,s){t!==s&&("xs"===t?($(".pagination-row").addClass("hidden"),e.itemsPerPage=e.searchResults.length,e.maxSize=0,e.boundaryLinks=!1):"sm"===t?($(".pagination-row").removeClass("hidden"),e.itemsPerPage=e.resultsItemCount,e.maxSize=0,e.boundaryLinks=!1):"md"===t?($(".pagination-row").removeClass("hidden"),e.itemsPerPage=e.resultsItemCount,e.maxSize=0,e.boundaryLinks=!1):"lg"===t?($(".pagination-row").removeClass("hidden"),e.itemsPerPage=e.resultsItemCount,e.maxSize=1,e.boundaryLinks=!0):(e.maxSize=5,e.boundaryLinks=!0))});var n=function(){window.innerWidth<=e.responsiveBreakpoints[0]&&"xs"!==e.currentBreakpoint?(e.currentBreakpoint="xs",e.$apply()):window.innerWidth>e.responsiveBreakpoints[0]&&window.innerWidth<=e.responsiveBreakpoints[1]&&"sm"!==e.currentBreakpoint?(e.currentBreakpoint="sm",e.$apply()):window.innerWidth>e.responsiveBreakpoints[1]&&window.innerWidth<=e.responsiveBreakpoints[2]&&"md"!==e.currentBreakpoint?(e.currentBreakpoint="md",e.$apply()):window.innerWidth>e.responsiveBreakpoints[2]&&window.innerWidth<=e.responsiveBreakpoints[3]&&"lg"!==e.currentBreakpoint?(e.currentBreakpoint="lg",e.$apply()):window.innerWidth>e.responsiveBreakpoints[3]&&"xl"!==e.currentBreakpoint&&(e.currentBreakpoint="xl",e.$apply())};angular.element(t).bind("resize",s.debounce(n,300)),setTimeout(n,0)}],link:function(e,s){"top"!==e.location&&"both"!==e.location||s.before(t('<div class="row pagination-row"><div class="col-sm-4 col-xs-6"><label for="results-per-page-top" class="control-label">{{resultsPerPageText}}</label><select ng-model="resultsItemCount" ng-options="result for result in resultsPerPage" id="results-per-page-top" name="resultsPerPage" ng-change="updatePageResultsCount();"></select></div><div class="col-sm-4 hidden-xs text-center results-data">{{showingResultsText}} {{begin+1}}-{{end}} of {{totalItems}}</div><div class="col-sm-4 col-xs-6 text-right"><uib-pagination total-items="totalItems" items-per-page="resultsItemCount" ng-model="currentPage" max-size="maxSize" boundary-links="boundaryLinks" previous-text="&#xe071" next-text="&#xe075" first-text="&#xe069" last-text="&#xe077"></uib-pagination></div></div>')(e)),"bottom"!==e.location&&"both"!==e.location||s.after(t('<div class="row pagination-row"><div class="col-sm-4 col-xs-6"><label for="results-per-page-bottom" class="control-label">{{resultsPerPageText}}</label><select ng-model="resultsItemCount" ng-options="result for result in resultsPerPage" id="results-per-page-bottom" name="resultsPerPage" ng-change="updatePageResultsCount();"></select></div><div class="col-sm-4 hidden-xs text-center results-data">{{showingResultsText}} {{begin+1}}-{{end}} of {{totalItems}}</div><div class="col-sm-4 col-xs-6 text-right"><uib-pagination total-items="totalItems" items-per-page="resultsItemCount" ng-model="currentPage" max-size="maxSize" boundary-links="boundaryLinks" previous-text="&#xe071" next-text="&#xe075" first-text="&#xe069" last-text="&#xe077"></uib-pagination></div></div>')(e))}}}]);
angular.module("WebCoreModule").directive("wcProtectedResource",function(){return{priority:-500,restrict:"A",require:["wcProtectedResource","?^wcDataTable"],controller:["WcAuthorizationService","$element","$attrs",function(e,t,i){this.checkAuthorization=function(){var r=null,o=i.wcProtectedResource;if(o){o.indexOf("|")>-1&&(r=o.slice(o.indexOf("|")+1,o.length).toString().trim()),r&&(o=o.slice(0,o.indexOf("|"))),o=o.split(",");for(var c=0;c<o.length;c++)o[c]=o[c].trim()}else o=[];e.isAuthorized(o,r).then(function(e){!1===e&&t.remove()})}}],compile:function(){return{post:function(){var e=arguments[3],t=e[0],i=e[1];i&&(i.checkAuthorization=t.checkAuthorization()),t.checkAuthorization()}}}}});
angular.module("WebCoreModule").directive("wcValidationIndicator",["_","$translate","$timeout",function(e,a,n){return{restrict:"A",priority:1,link:function(r,t,i){n(function(){t[0].form&&"FIELDSET"!==t[0].tagName||(t=$(t).find("input"));var n=t[0].form.attributes.name.value,l=r[n];l||(l=r.$parent[n]),!l&&n.indexOf(".")>-1&&(n=n.split("."),l=r.$parent[n[0]][n[1]]);var s=t[0].name;s||(s=i.name)||""===i.wcResponsiveTable&&(s="wcResponsiveTable");if(angular.isArray(n)){var o=t[0].attributes["ng-model"].nodeValue.split(".")[0];r.$parent[o]}else t.controller();var d=$(t).closest(".form-group")[0];d&&"wcResponsiveTable"!==s||(d=$('<div class="form-group col-xs-12"></div>').insertBefore("#"+t.context.attributes.id.value));var m,u,c,f,v,p,h,b,g,x=i.wcValidationIndicator,w={defaultMsg:"Please add error message for {{n}}.",email:"Please enter a valid email address.",minlength:"Please enter at least {{n}} characters.",maxlength:"You have entered more than {{n}} characters.",min:"Please enter the number greater than {{n}}.",max:"Please enter the number lesser than {{n}}.",minMaxRange:"Please enter between {{min}} and {{max}}.",required:"{{fieldName}} is required.",tableRequired:"{{fieldName}} selection is required.",date:"Please enter a valid date.",pattern:"The pattern entered is incorrect.",number:"Please enter a valid number.",url:"Please enter a valid URL.",inValid:"{{fieldName}} is invalid."},P=function(e){h.length>0?u=l[s].$error.hasOwnProperty("required")?a.instant(w.required,{fieldName:x}):a.instant(w.inValid,{fieldName:x}):(f=i[e],("min"===e||"max"===e)&&i.min&&i.max&&(e="minMaxRange",v=i.min,p=i.max),u=a.instant(w[e],{n:f,fieldName:x,min:v,max:p}))},R=s.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();b=R+"-error";var q=function(e){P(e),c=$('<span id="'+b+'" class="label label-danger"><span class="glyphicon glyphicon-remove-sign"></span><span class="label-text">'+u+"</span></span>")},N=function(){if($(d).find("#"+b).remove(),!l[s].$valid&&l.$submitted){h=e.filter(e.keys(i),function(e){return e.indexOf("Validator")>-1});for(var a=e.toPairs(l[s].$error),n=0;n<a.length;n++)m=a[n][0],q(m);"tableRequired"===m?(g=$(d).html(),$(d).html(c)):$(d).append(c),$(d).addClass("has-error")}else $(d).removeClass("has-error"),$(d).find("#"+b).remove(),"tableRequired"===m&&$(d).html(g)};r.$watch(function(){return l[s].$valid},function(){N()}),r.$watch(function(){return l.$submitted},function(){N()}),r.$watch(function(){return l[s].$error},function(){N()},!0)},0)}}}]);
angular.module("WebCoreModule").directive("wcDataTable",["$compile","$window","_",function(e,t,a){return{restrict:"A",require:["wcDataTable","?ngModel"],scope:{headerTemplate:"@headerTemplate",overrideOptions:"@wcDataTable",columns:"=columns",columnDefs:"@columnDefs",responsiveColumnDefs:"@responsiveColumnDefs",data:"=data",checkBoxCol:"@checkBoxCol",radioButtonCol:"@radioButtonCol",selectedValue:"@selectedValue",ngModel:"=ngModel",name:"@name"},transclude:!0,replace:!0,template:"<div ng-transclude></div>",controller:["$compile","$scope","$element","$attrs","WcDataTableService",function(e,n,i,o,s){this.defaultOptions={bAutoWidth:!1,bStateSave:!1,bPaginate:!0,sPaginationType:"bootstrap_full_numbers",sDom:'<"row paginator paginator-top"<"col-xs-3"l><"col-xs-4 text-right"i><"col-xs-5 text-right"p>>t<"row paginator paginator-bottom"<"col-xs-3"l><"col-xs-4 text-right"i><"col-xs-5 text-right"p>>>',bLengthChange:!0,bFilter:!1,bDestroy:!0,fnCreatedRow:function(t,a,i){var o=$(t)[0],l=$(o).find("td"),r=$($(l)[0]);$(o).find("a, button").on("click",angular.bind(this,function(){s.setClickedRowData(n.data[i])})),e(r.contents())(n.$parent)},aaSorting:[[2,"asc"]]},this.options={},this.useResponsiveColumns=!1,this.currentBreakpoint=-1,this.previousBreakPoint=-1,this.toggleCheckAll=n.checkBoxCol===parseInt(n.checkBoxCol),this.checkAuthorization=function(){},this.getToggleCheckAllExists=function(){return this.toggleCheckAll},this.initialize=function(e){t.alert=function(){var e=t.alert;return function(a){t.alert=e,0===a.indexOf("DataTables warning")?console.warn(a):e(a)}}(),this.table=i.find("table");var s={};if(n.overrideOptions&&(s=n.$eval(n.overrideOptions)),n.columns&&(s.aoColumns=angular.copy(n.columns)),this.showcheckBoxColumn=n.checkBoxCol===parseInt(n.checkBoxCol),this.showRadioColumn=n.radioButtonCol===parseInt(n.radioButtonCol),this.inValidCombination=this.showcheckBoxColumn&&this.showRadioColumn,this.hasInputField=this.showcheckBoxColumn||this.showRadioColumn,this.inValidCombination){c="YOU CANNOT HAVE A DATATABLE WITH BOTH A CHECKBOX COLUMN AND A RADIOBUTTON COLUMN - IT MESSES WITH THE DATA";return console.error(c),i.prepend('<div class="alert alert-danger"><td colspan=""><p>'+c+"</p></div>"),!1}var l=o.required?"required":"",r=n.name?'name="'+n.name+'"':"";if(this.hasInputField&&!o.ngModel){c='Must define the "ng-model" attribute IF a checkbox or radio column index is defined.';console.error(c),i.prepend('<div class="alert alert-danger"><td colspan=""><p>'+c+"</p></div>")}if(this.hasInputField&&!r){c='Must define the "name" attribute IF a checkbox or radio column index is defined.';console.error(c),i.prepend('<div class="alert alert-danger"><td colspan=""><p>'+c+"</p></div>")}if(this.hasInputField&&!n.selectedValue){c='Must define the "selected-value" attribute IF a checkbox or radio column index is defined.';console.error(c),i.prepend('<div class="alert alert-danger"><td colspan=""><p>'+c+"</p></div>")}if(!this.hasInputField&&l){var c="Must define a checkbox or radio column index IF the HTML5 required attribute is set";console.error(c),i.prepend('<div class="alert alert-danger"><td colspan=""><p>'+c+"</p></div>")}if(this.showcheckBoxColumn){var d={sTitle:'<input type="checkbox" id="toggleAll" class="toggle-check-all"/><label for="toggleAll" class="hidden">Toggle Check All</label>',sClass:"text-center",mData:n.selectedValue,mRender:function(e,t,a){return angular.toJson(e)===angular.toJson(a[n.selectedValue])&&-1===new String(a[n.selectedValue]).indexOf("<label")?'<label class="sr-only" for="checkbox_'+a[n.selectedValue]+'">Select '+a[n.selectedValue]+'</label><input type="checkbox" id="checkbox_'+a[n.selectedValue]+'" '+r+" "+l+' class="checkbox table-check-box" value="'+a[n.selectedValue]+'"/>':e},bSortable:!1};angular.toJson(s.aoColumns[n.checkBoxCol])!==angular.toJson(d)&&s.aoColumns.splice(n.checkBoxCol,0,d),$(this.table).addClass("table-toggle-check-all")}if(this.showRadioColumn){var h={sTitle:"",sClass:"text-center",mData:n.selectedValue,mRender:function(e){return e?'<label class="sr-only" for="radio_'+e+'">Select '+e+'</label><input type="radio" id="radio_'+e+'" '+r+" "+l+' class="radio table-radio-button" value="'+e+'"/>':""},bSortable:!1};angular.toJson(s.aoColumns[n.radioButtonCol])!==angular.toJson(h)&&s.aoColumns.splice(n.radioButtonCol,0,h)}if(n.columnDefs&&(s.aoColumnDefs=n.$eval(n.columnDefs)),n.responsiveColumnDefs){if(this.responsiveColumnDefs=n.$eval(n.responsiveColumnDefs),void 0===this.responsiveColumnDefs.initial)throw"DataTables Error: No initial state defined.";this.useResponsiveColumns=!0,this.maxBreakpoint=a.max(this.responsiveColumnDefs.breakpoints)}return this.defineTable(s),n.data&&(this.dataTable.fnAddData(n.data),n.$watch(function(){return n.data},angular.bind(this,function(t,a){t!==a&&(this.defineTable(this.options),this.dataTable.fnClearTable(),this.dataTable.fnAddData(n.data),this.createInputColumn(e))}))),this.createInputColumn=function(e){var t=$(this.table);if(this.showRadioColumn){r=this.table.fnGetNodes();n.$parent.$eval(o.ngModel)&&($(r).find("input[id=radio_"+n.$parent.$eval(o.ngModel)+"]").prop("checked",!0),$(r).find("input[id=radio_"+n.$parent.$eval(o.ngModel)+"]").parent().parent().addClass("selected")),angular.element($(r).find(".table-radio-button")).on("change",function(){$.each(r,function(){$(this).removeClass("selected"),$(this).find('input[type="radio"]').prop("checked",!1)}),$(this).parent().parent().addClass("selected"),$(this).prop("checked",!0),e.$setViewValue($(this).val()),n.$apply()})}if(this.showcheckBoxColumn){$(this.table).addClass("table-toggle-check-all");var i,s=[],l=[],r=this.table.fnGetNodes();n.$parent.$eval(o.ngModel)&&angular.forEach(n.$parent.$eval(o.ngModel),function(e){$(r).find("input[id=checkbox_"+e+"]").prop("checked",!0),$(r).find("input[id=checkbox_"+e+"]").parent().parent().addClass("selected")}),angular.element($(r).find(".table-check-box")).on("change",function(){e.$viewValue?this.checked?($(this).parent().parent().addClass("selected"),s=e.$viewValue,i=[$(this).val()],l=a.uniq(s.concat(i)),e.$setViewValue(l)):($(this).parent().parent().removeClass("selected"),l=a.without(e.$viewValue,$(this).val()),e.$setViewValue(l)):($(this).parent().parent().addClass("selected"),e.$setViewValue([$(this).val()])),t.find(".table-check-box").length===t.find(".selected").length?t.find("thead th input.toggle-check-all").prop("checked",!0):t.find("thead th input.toggle-check-all").prop("checked",!1),"$apply"!==n.$root.$$phase&&"$digest"!==n.$root.$$phase&&n.$apply()}),angular.element(t.find("thead th input.toggle-check-all")).on("change",function(){this.checked?$.each(t.find(".table-check-box"),function(){!1===$(this).prop("checked")&&$(this).click()}):$.each(t.find(".table-check-box"),function(){$(this).prop("checked")&&$(this).click()})}),this.table.bind("draw",function(){t.find(".table-check-box").length===t.find(".selected").length?t.find("thead th input.toggle-check-all").prop("checked",!0):t.find("thead th input.toggle-check-all").prop("checked",!1)})}},!0},this.defineTable=function(e){e=a.defaults(e,this.defaultOptions),angular.extend(this.options,e),this.dataTable&&this.dataTable.fnDestroy(),this.dataTable=this.table.dataTable(this.options)},this.adjustColumns=function(){var e=this.dataTable.fnSettings(),n={},o=null;$(t).width()>this.maxBreakpoint&&(this.previousBreakPoint=this.currentBreakPoint,this.currentBreakPoint=-1,o=this.responsiveColumnDefs.initial.columns,n={bPaginate:this.responsiveColumnDefs.initial.paging,sDom:this.responsiveColumnDefs.initial.dom,sPaginationType:this.responsiveColumnDefs.initial.pagination,oLanguage:{oPaginate:{sShowPagingText:this.responsiveColumnDefs.initial.showPagingText}}});for(l=0;l<=this.responsiveColumnDefs.breakpoints.length;l++)if($(t).width()<this.responsiveColumnDefs.breakpoints[l]){this.previousBreakPoint=this.currentBreakPoint,this.currentBreakPoint=this.responsiveColumnDefs.breakpoints[l],o=this.responsiveColumnDefs.columns[l],n={bPaginate:this.responsiveColumnDefs.paging[l],sDom:this.responsiveColumnDefs.dom[l],sPaginationType:this.responsiveColumnDefs.pagination[l],oLanguage:{oPaginate:{sShowPagingText:this.responsiveColumnDefs.showPagingText[l]}}};break}if(this.currentBreakPoint!==this.previousBreakPoint){var s=angular.merge(this.options,n);this.defineTable(s);for(var l=0;l<e.aoColumns.length;l++)a.contains(o,l)?this.dataTable.fnSetColumnVis(l,!1):e.aoColumns[l].bVisible||this.dataTable.fnSetColumnVis(l,!0);i.find(".paginator select").addClass("form-control input-sm")}}}],compile:function(){var a=/<.+>/;return{pre:function(t,n){if(t.headerTemplate){var i=t.headerTemplate;i&&!a.test(i)&&(i=$.ajax({type:"GET",url:i,async:!1}).responseText),i=angular.element(i),e(i)(t);var o=n.find("table"),s=o.find("thead");s.exists()?s.replaceWith(i):o.append(i)}},post:function(e,a,n,i){var o=i[0],s=i[1];o.initialize(s)&&(o.useResponsiveColumns&&(o.adjustColumns(),angular.element(t).bind("resize",function(){o.adjustColumns(),o.createInputColumn(s),e.$apply()})),o.createInputColumn(s))}}}}}]);
angular.module("WebCoreModule").service("WcDataTableService",["$q",function(e){var t={};this.setClickedRowData=function(e){t=e},this.getClickedRowData=function(){return e.when(t)}}]);
$.extend(!0,$.fn.dataTable.defaults,{sDom:"<'row paginator'<'col-xs-6'l><'col-xs-6'f>r>t<'row paginator'<'col-xs-6'i><'col-xs-6'p>>",sPaginationType:"bootstrap_full_numbers",oLanguage:{sLengthMenu:"Results per page: _MENU_",sInfo:"Showing Results: _START_ - _END_ of _TOTAL_"}}),$.extend($.fn.dataTableExt.oStdClasses,{sWrapper:"dataTables_wrapper form-inline"}),$.extend($.fn.dataTableExt.oPagination,{bootstrap_two_button:{fnInit:function(a,e,t){var s=a.oLanguage.oPaginate,i=a.oClasses,n="disabled "+i.sPageButtonStaticDisabled,l='<ul class="pagination"><li class="previous '+n+'"><a href="javascript:;" class="'+i.sPageButton+" "+i.sPagePrevious+'" tabindex="'+a.iTabIndex+'" role="button"><span class="'+i.sPagePreviousText+'">'+s.sPrevious+'</span></a></li><li class="next '+n+'"><a href="javascript:;" class="'+i.sPageButton+" "+i.sPageNext+'" tabindex="'+a.iTabIndex+'" role="button"><span class="'+i.sPageNextText+'">'+s.sNext+"</span></a></li></ul>";$(e).append(l);var o=$("a",e),r=o[0],d=o[1];a.aanFeatures.p||(e.id=a.sTableId+"_paginate",r.id=a.sTableId+"_previous",d.id=a.sTableId+"_next",r.setAttribute("aria-controls",a.sTableId),d.setAttribute("aria-controls",a.sTableId));var c=function(e){e.preventDefault(),a.oApi._fnPageChange(a,e.data.action)&&t(a)};a.oApi._fnBindAction(r,{action:"previous"},c),a.oApi._fnBindAction(d,{action:"next"},c)},fnUpdate:function(a){if(a.aanFeatures.p)for(var e=Math.ceil(a.fnRecordsDisplay()/a._iDisplayLength),t=Math.ceil(a._iDisplayStart/a._iDisplayLength)+1,s="disabled "+a.oClasses.sPageButtonStaticDisabled,i=a.aanFeatures.p,n=0;n<i.length;n++)1===t?$("li:eq(0)",i[n]).addClass(s):$("li:eq(0)",i[n]).removeClass(s),0===e||t===e||-1===a._iDisplayLength?$("li:eq(-1)",i[n]).addClass(s):$("li:eq(-1)",i[n]).removeClass(s)}},bootstrap_normal:{fnInit:function(a,e,t){var s=a.oLanguage.oPaginate,i=a.oClasses,n="disabled "+i.sPageButtonStaticDisabled,l='<ul class="pagination"><li class="previous '+n+'"><a href="javascript:;" class="'+i.sPageButton+" "+i.sPagePrevious+'" tabindex="'+a.iTabIndex+'" role="button"><span class="'+i.sPagePreviousText+'">'+s.sPrevious+'</span></a></li><li class="next '+n+'"><a href="javascript:;" class="'+i.sPageButton+" "+i.sPageNext+'" tabindex="'+a.iTabIndex+'" role="button"><span class="'+i.sPageNextText+'">'+s.sNext+"</span></a></li></ul>";$(e).append(l);var o=$("a",e),r=o[0],d=o[1];a.aanFeatures.p||(e.id=a.sTableId+"_paginate",r.id=a.sTableId+"_previous",d.id=a.sTableId+"_next",r.setAttribute("aria-controls",a.sTableId),d.setAttribute("aria-controls",a.sTableId));var c=function(e){e.preventDefault(),a.oApi._fnPageChange(a,e.data.action)&&t(a)};a.oApi._fnBindAction(r,{action:"previous"},c),a.oApi._fnBindAction(d,{action:"next"},c)},fnUpdate:function(a,e){if(a.aanFeatures.p){var t,s,i=$.fn.dataTableExt.oPagination.iFullNumbersShowPages,n=Math.floor(i/2),l=Math.ceil(a.fnRecordsDisplay()/a._iDisplayLength),o=Math.ceil(a._iDisplayStart/a._iDisplayLength)+1;-1===a._iDisplayLength?(t=1,s=1,o=1):l<i?(t=1,s=l):o<=n?(t=1,s=i):o>=l-n?(t=l-i+1,s=l):s=(t=o-Math.ceil(i/2)+1)+i-1;for(var r=a.oClasses,d="active "+r.sPageButtonActive,c="disabled "+r.sPageButtonStaticDisabled,p="",u=t;u<=s;u++)p+=o!==u?'<li><a href="javascript:;" class="'+r.sPageButton+'" tabindex="'+a.iTabIndex+'" role="button">'+a.fnFormatNumber(u)+"</a></li>":'<li class="'+d+'"><a href="javascript:;" class="'+r.sPageButton+'" tabindex="'+a.iTabIndex+'" role="button">'+a.fnFormatNumber(u)+"</a></li>";for(var b=a.aanFeatures.p,u=0;u<b.length;u++)b[u].hasChildNodes()&&(1===o?$("li:eq(0)",b[u]).addClass(c):$("li:eq(0)",b[u]).removeClass(c),0===l||o===l||-1===a._iDisplayLength?$("li:eq(-1)",b[u]).addClass(c):$("li:eq(-1)",b[u]).removeClass(c),$("li:gt(0)",b[u]).filter(":not(li:eq(-1))").remove(),$(p).clone().insertBefore($("li:eq(-1)",b[u])).each(function(s){a.oApi._fnBindAction(this,{page:s+t-1},function(t){a.oApi._fnPageChange(a,t.data.page),e(a),t.preventDefault()})}))}}},bootstrap_full_numbers:{fnInit:function(a,e,t){var s=a.oLanguage.oPaginate,i=a.oClasses,n="disabled "+i.sPageButtonStaticDisabled,l=s.sShowPagingText?"":"text-hide",o=s.sShowPagingText?i.sPageButton:i.sPageButton+" no-text",r='<ul class="pagination"><li class="first '+n+'"><a href="javascript:;" class="'+o+" "+i.sPageFirst+'" tabindex="'+a.iTabIndex+'" role="button"><span class="'+l+'">'+s.sFirst+'</span></a></li><li class="previous '+n+'"><a href="javascript:;" class="'+o+" "+i.sPagePrevious+'" tabindex="'+a.iTabIndex+'" role="button"><span class="'+l+'">'+s.sPrevious+'</span></a></li><li class="next '+n+'"><a href="javascript:;" class="'+o+" "+i.sPageNext+'" tabindex="'+a.iTabIndex+'" role="button"><span class="'+l+'">'+s.sNext+'</span></a></li><li class="last '+n+'"><a href="javascript:;" class="'+o+" "+i.sPageLast+'" tabindex="'+a.iTabIndex+'" role="button"><span class="'+l+'">'+s.sLast+"</span></a></li></ul>";$(e).append(r);var d=$("a",e),c=d[0],p=d[1],u=d[2],b=d[3];a.aanFeatures.p||(e.id=a.sTableId+"_paginate",c.id=a.sTableId+"_first",p.id=a.sTableId+"_previous",u.id=a.sTableId+"_next",b.id=a.sTableId+"_last",c.setAttribute("aria-controls",a.sTableId),p.setAttribute("aria-controls",a.sTableId),u.setAttribute("aria-controls",a.sTableId),b.setAttribute("aria-controls",a.sTableId));var f=function(e){e.preventDefault(),a.oApi._fnPageChange(a,e.data.action)&&t(a)};a.oApi._fnBindAction(c,{action:"first"},f),a.oApi._fnBindAction(p,{action:"previous"},f),a.oApi._fnBindAction(u,{action:"next"},f),a.oApi._fnBindAction(b,{action:"last"},f)},fnUpdate:function(a,e){if(a.aanFeatures.p){var t,s,i=$.fn.dataTableExt.oPagination.iFullNumbersShowPages,n=Math.floor(i/2),l=Math.ceil(a.fnRecordsDisplay()/a._iDisplayLength),o=Math.ceil(a._iDisplayStart/a._iDisplayLength)+1;-1===a._iDisplayLength?(t=1,s=1,o=1):l<i?(t=1,s=l):o<=n?(t=1,s=i):o>=l-n?(t=l-i+1,s=l):s=(t=o-Math.ceil(i/2)+1)+i-1;for(var r=a.oClasses,d="active "+r.sPageButtonActive,c="disabled "+r.sPageButtonStaticDisabled,p="",u=t;u<=s;u++)p+=o!==u?'<li><a href="javascript:;" class="'+r.sPageButton+'" tabindex="'+a.iTabIndex+'" role="button">'+a.fnFormatNumber(u)+"</a></li>":'<li class="'+d+'"><a href="javascript:;" class="'+r.sPageButton+'" tabindex="'+a.iTabIndex+'" role="button">'+a.fnFormatNumber(u)+"</a></li>";for(var b=a.aanFeatures.p,u=0;u<b.length;u++)b[u].hasChildNodes()&&(1===o?($("li:eq(0)",b[u]).addClass(c),$("li:eq(1)",b[u]).addClass(c)):($("li:eq(0)",b[u]).removeClass(c),$("li:eq(1)",b[u]).removeClass(c)),0===l||o===l||-1===a._iDisplayLength?($("li:eq(-1)",b[u]).addClass(c),$("li:eq(-2)",b[u]).addClass(c)):($("li:eq(-1)",b[u]).removeClass(c),$("li:eq(-2)",b[u]).removeClass(c)),$("li:gt(1)",b[u]).filter(":not(li:eq(-2))").filter(":not(li:eq(-1))").remove(),$(p).clone().insertBefore($("li:eq(-2)",b[u])).each(function(s){a.oApi._fnBindAction(this,{page:s+t-1},function(t){a.oApi._fnPageChange(a,t.data.page),e(a),t.preventDefault()})}))}}}}),$.fn.DataTable.TableTools&&($.extend(!0,$.fn.DataTable.TableTools.classes,{container:"DTTT btn-group",buttons:{normal:"btn btn-default",disabled:"disabled"},collection:{container:"DTTT_dropdown dropdown-menu",buttons:{normal:"",disabled:"disabled"}},print:{info:"DTTT_print_info"},select:{row:"active"}}),$.extend(!0,$.fn.DataTable.TableTools.DEFAULTS.oTags,{collection:{container:"ul",button:"li",liner:"a"}}));
angular.module("WebCoreModule").directive("prism",[function(){return{restrict:"A",link:function(e,i){i.ready(function(){Prism.highlightElement(i[0])})}}}]);
angular.module("WebCoreModule").filter("WcPrice",["_",function(n){function r(n,r){return!n&&0!==n||!r&&0!==r?n&&null===r?"min":r&&null===n?"max":"invalid":"range"}function i(r,i,e){return e?n.filter(r,function(n){if(n[e]<=i)return!0}):n.filter(r,function(n){if(n<=i)return!0})}function e(r,i,e){return e?n.filter(r,function(n){if(n[e]>=i)return!0}):n.filter(r,function(n){if(n>=i)return!0})}function t(r,i,e,t){return t?n.filter(r,function(n){if(n[t]>=i&&n[t]<=e)return!0}):n.filter(r,function(n){if(n>=i&&n<=e)return!0})}return function(n,u,f,c){var l=[];switch((void 0===u||isNaN(u))&&(u=null),(void 0===f||isNaN(f))&&(f=null),r(u,f)){case"range":l=t(n,u,f,c);break;case"min":l=e(n,u,c);break;case"max":l=i(n,f,c);break;case"invalid":l=n}return l}}]);
angular.module("WcResponsiveTableModule",[]);
angular.module("WcResponsiveTableModule").directive("wcResponsiveTable",["$compile","_","$timeout","$swipe","WcTableScopeService","WcTableCollectionService","WcTablePaginationService","WcColumnFilterService",function(e,t,i,a,n,l,o,r){return{require:["wcResponsiveTable","?ngModel"],scope:{},bindToController:{data:"&",rowKey:"@",ngModel:"=?",resultsPerPage:"=",paginationControlsPlacement:"@",responsiveView:"@",columnData:"=",selectResultsPerPage:"=",required:"@",paginationEnabled:"@",checkallnoneEnabled:"@",exporttopdfEnabled:"@",exporttoexcelEnabled:"@"},controllerAs:"responsiveTableController",controller:["$scope","$element","$attrs","WcTranslateConfiguratorService","$translate",function(e,t,a,s,c){s.loadPartAndRefresh("WC-dataTable");var d=e.$parent;this.id=a.id,this.element=t,this.WcTableScopeService=new n,this.WcTableScopeService.setParentScope(d),this.WcTableScopeService.setTableScope(e),this.WcTableCollectionService=new l(this.WcTableScopeService),this.WcTableCollectionService.setInitialCollection(this.data()),this.WcTableCollectionService.setRowKey(this.rowKey),this.WcTablePaginationService=new o(this.WcTableCollectionService),this.WcColumnFilterService=new r;var h=t.controller("ngModel");""===this.required&&(this.required=!0),""===this.paginationEnabled&&(this.paginationEnabled=!0),""===this.checkallnoneEnabled&&(this.checkallnoneEnabled=!0),""===this.exporttopdfEnabled&&(this.exporttopdfEnabled=!0),""===this.exporttoexcelEnabled&&(this.exporttoexcelEnabled=!0),this.ngModel||(this.ngModel=[]),this.lastCollectionRendered=null,e.renderTable=function(t){e.$broadcast("table.pagination.update",t),e.$broadcast("table.render.start"),e.tableIsLoading()},e.tableIsLoading=function(){$(".wc-table-loading-indicator").show(),$(".wc-table-loading-cover").show()},e.tableIsFinishedLoading=function(){$(".wc-table-loading-indicator").hide(),$(".wc-table-loading-cover").hide()},e.tableRendered=function(){$(".wc-table-column-"+this.previousSortColumn).removeClass("wc-table-column-highlight"),$(".wc-table-column-"+this.activeSortColumn).addClass("wc-table-column-highlight"),i(angular.bind(this,function(){d.$broadcast("table.render.complete"),e.tableIsFinishedLoading()}),0)},this.selectedMathFilterOption=[],this.toggleFilterVisibility=function(){var e=this.element.find(".filter-visibility-toggle span:first-child").text();if(this.element.find('thead input[wc-column-filter], thead select[wc-column-filter], thead select[id^="wc-math-filter"]').toggle(),!this.staticFilter){var t=c.instant("columnFilter.showFilters"),i=c.instant("columnFilter.hideFilters");e=e===t?i:t,this.element.find(".filter-visibility-toggle span:first-child").text(e)}},this.setupRachetingColumns=function(){var t=2;this.ratchetCols=function(i){window.innerWidth<1200&&(e.$broadcast("ng-swipe"),"left"==i?($("#"+this.id+".table-ratchet .wc-table-column-"+t).hide(),t<this.numberOfCols&&t++):"right"==i&&($("#"+this.id+".table-ratchet .wc-table-column-"+(t-1)).show(),t>2&&t--))},e.$on("ng-swipe",angular.bind(this,function(e,t){this.animating||(this.animating=!0,$("#"+this.id+".table-ratchet table").animate({opacity:.7},150,angular.bind(this,function(){$("#"+this.id+".table-ratchet table").animate({opacity:1},200,function(){})})),this.animating=!1)}))},this.setupPaginationDefaults=function(){(this.paginationEnabled||this.resultsPerPage||this.numberOfPageControls||this.selectResultsPerPage||this.responsiveBreakpoints||this.paginationControlsPlacement)&&(this.WcTablePaginationService.setPaginationState(!0),this.WcTablePaginationService.setPaginationDefaults({numberOfPageControls:this.numberOfPageControls,responsiveBreakpoints:this.responsiveBreakpoints,selectResultsPerPage:this.selectResultsPerPage,resultsPerPage:this.resultsPerPage,paginationControlsPlacement:this.paginationControlsPlacement}))},this.setupTableValidation=function(){this.ngModel=this.ngModel||[],h&&(h.$name="wcResponsiveTable",h.$parsers.push(angular.bind(this,function(e){return this.required&&(!e||angular.isArray(e)&&0===e.length?h.$setValidity("tableRequired",!1):h.$setValidity("tableRequired",!0)),e})),h.$formatters.push(angular.bind(this,function(e){return this.required&&(!e||angular.isArray(e)&&0===e.length?h.$setValidity("tableRequired",!1):h.$setValidity("tableRequired",!0)),e})),this.applyModel=function(e){h.$setViewValue(e)},h.$$parentForm.$addControl(h))}}],link:function(i,n,l,o){var r=o[0];o[1];this.preSetupTable=function(){var e=n[0].children[0];if("TABLE"!==e.tagName)throw"Is this an equivalent error message";n.addClass("wc-table");var t=$(e).find("tbody tr"),i=$(e).find("thead tr")[0];r.numberOfCols=i.children.length,r.columnsToHide=[];for(var a=0;a<i.children.length;a++){r.columnsToHide[a]=!1,$(i.children[a]).addClass("wc-table-column-"+a);var l=$(i.children[a]).contents().filter(function(){return 3===this.nodeType&&""!==$.trim(this.nodeValue)}),o=$(i.children[a]).children()[0];l.length>0?$(l).wrap("<div class='header-text-wrapper'><span class='header-text'></span></div>"):$(o).wrap("<div class='header-text-wrapper'></div>").addClass("header-text"),$(i.children[a]).find("[wc-column-filter]").length>0&&$(i.children[a]).find(".form-group").length<1&&($(".wc-table-column-"+a+" .header-text-wrapper").after("<div class='form-group'></div>"),$(i.children[a]).find("[wc-math-filter]").length>0?$(i.children[a]).find("label, .wc-math-filter-row").appendTo(".wc-table-column-"+a+" .form-group"):$(i.children[a]).find("label, input, select").appendTo(".wc-table-column-"+a+" .form-group"));$(i.children[a]);var s=l[0]?l[0].nodeValue:"";$(t.children()[a]).attr("data-title",s),console.log("columnHeading",$(t.children()[a]),s)}for(a=0;a<t.children().length;a++)$(t.children()[a]).addClass("wc-table-column-"+a);r.setupTableValidation();var c={table:e,dataRow:t,headerRow:i};return r.table=$(e),c},this.addLoadingIndicator=function(){n.append(e('<div class="wc-table-loading-cover"><div class="wc-table-loading-indicator"><span>{{"loading" | translate}}</span></div>')(i))},this.addColumnFilteringFeature=function(t){if(n.find("thead input[wc-column-filter], thead select[wc-column-filter]").length)if(""===l.staticFilter)r.staticFilter=!0,r.toggleFilterVisibility();else{$(t.table).before('<div class="active-filters hidden"></div>'),$(t.table).before(e('<div class="filter-visibility-toggle" ng-click="responsiveTableController.toggleFilterVisibility()"><span>{{"columnFilter.showFilters" | translate}}</span><span class="glyphicon glyphicon-filter"></span></div>')(i))}},r.toggleFilterVisibility(),this.addPaginationFeature=function(t){r.paginationEnabled&&(r.setupPaginationDefaults(),$(t.table).before(e("<wc-table-pagination>")(i)))},this.addCheckAllNoneFeature=function(t){if(r.checkallnoneEnabled){var a=e('<wc-check-all-none target-container-id="'+l.id+'">')(i);$(t.table).next().after(a)}},this.addExportToPdfFeature=function(){if(r.exporttopdfEnabled){var t=n.find(".wc-table-buttons");if(t.length>0)t.append(e("<wc-export-to-pdf>")(i));else{var a=angular.element('<div class="btn-group wc-table-buttons pull-right"><wc-export-to-pdf/></div>');n.prepend(e(a)(i))}}},this.addExportToExcelFeature=function(){if(r.exporttoexcelEnabled){var t=n.find(".wc-table-buttons");if(t.length>0)t.append(e("<wc-export-to-excel>")(i));else{var a=angular.element('<div class="btn-group wc-table-buttons pull-right"><wc-export-to-excel/></div>');n.prepend(e(a)(i))}}},this.addResponsiveFeature=function(){switch(r.responsiveView){case"scroll":this.addScrollingTableFeature();break;case"ratchet":r.setupRachetingColumns(),this.addRachetingColumnsFeature(s);break;case"column-toggle":case"radio-columns":this.addColumnToggleFeature(s);break;case"list":this.addListViewFeature();break;case"drop":break;default:this.addScrollingTableFeature()}},this.addScrollingTableFeature=function(){n.addClass("table-responsive");var e=function(e){$(e).each(function(e,t){$(t).css("height",$(t).closest("tr").css("height"))})},a=function(){e("#"+r.id+" .wc-table-column-0"),e("#"+r.id+" .wc-table-column-1")};$(window).on("resize",t.debounce(a,250)),i.$on("table.render.complete",t.debounce(a,10));var l=function(e){$("#"+r.id+" .wc-table-column-0").each(function(t,i){$(i).css("left",e.currentTarget.scrollLeft+"px")}),$("#"+r.id+" .wc-table-column-1").each(function(t,i){$(i).css("left",e.currentTarget.scrollLeft+100+"px")}),$("#"+r.id+" .filter-visibility-toggle").each(function(t,i){$(i).css("left",e.currentTarget.scrollLeft+15+"px")})};n.scroll(l),n.on("touchmove",l)},this.addRachetingColumnsFeature=function(e){n.addClass("table-ratchet");var t,i,l=function(e){if(!t)return!1;var a=Math.abs(e.y-t.y),n=e.x-t.x;return!!(i&&a<75&&0!==n&&Math.abs(n)>30&&a/Math.abs(n)<.3)&&(n>0?"right":"left")};a.bind($(e.table),{start:function(e){t=e,i=!0},cancel:function(){i=!1},end:function(e){var t=l(e);t&&r.ratchetCols(t)}});$(e.table).after('<div class="ratchet-indicator"><span>...</span></div>')},this.addColumnToggleFeature=function(t){n.addClass("column-toggle");var a='<span class="dropdown column-toggle"><span name="columnToggleDropdown" data-toggle="dropdown" id="'+r.id+'-columnToggleDropdown"><span>{{"manageColumns" | translate}}</span><span class="glyphicon glyphicon-chevron-down"></span></span><fieldset class="dropdown-menu form-group" role="menu" aria-labelledby="'+r.id+'-columnToggleDropdown">';$(t.headerRow).children().each(function(e,t){var i=$(t).find(".header-text").text();t.firstChild.nextSibling&&"wc-row-select-header-checkbox"==t.firstChild.nextSibling.localName&&(i="Checkbox Column"),t.firstChild.nextSibling&&"wc-row-select-header-radio"==t.firstChild.nextSibling.localName&&(i="Radio Column"),null!==t.firstChild&&(a+='<div role="menuitem" class="checkbox"><label for="col'+e+'"><input id="col'+e+'" type="checkbox" checked ng-model="responsiveTableController.columnsToHide['+e+']"/>'+i+"</label></div>")}),a+="</fieldset></span>",i.$watchCollection(function(){return r.columnsToHide},function(e,t){if(e!==t)for(i=0;i<e.length;i++)e[i]?$("#"+r.id+".column-toggle .wc-table-column-"+i).show():$("#"+r.id+".column-toggle .wc-table-column-"+i).hide();else{for(var i=0;i<e.length;i++)e[i]=!0;$("#"+r.id+".column-toggle .form-group").click(function(e){e.stopPropagation()})}}),$(t.table).before(e(a)(i))},this.addListViewFeature=function(){n.addClass("table-mobile-stack")},this.postSetupTable=function(t){var a=t.dataRow;r.dataRowChildren=a.children().clone(),a.children().remove(),a.attr("wc-row-repeat",""),e(a)(i),a[0].children.length<1&&i.renderTable()};var s=this.preSetupTable();this.addLoadingIndicator(),this.addColumnFilteringFeature(s),this.addPaginationFeature(s),this.addCheckAllNoneFeature(s),this.addExportToPdfFeature(),this.addExportToExcelFeature(),this.addResponsiveFeature(s),this.postSetupTable(s)}}}]);
angular.module("WcResponsiveTableModule").directive("wcRowRepeat",["$compile",function(e){return{require:["wcRowRepeat","^wcResponsiveTable"],controllerAs:"rowRepeatController",controller:["$scope","$element","$attrs","WcTranslateConfiguratorService",function(t,n,r,o){o.loadPartAndRefresh("WC-dataTable");var l=n.parent().controller("wcResponsiveTable"),a=l.numberOfCols,i=$('<tr><td class="text-center" colspan='+a+' >{{"noRecordFound" | translate}}</td></tr>');this.collection=l.WcTableCollectionService.getCollection,this.rowKey=l.WcTableCollectionService.getRowKey(),this.parentElement=n.parent(),this.elements=[],this.insertRows=function(o,a){var c=this.elements.length,s=l.ngModel,p=l.WcTableCollectionService.getCollection();if(c>0){for(f=0;f<c;f++)this.elements[f].el.remove(),this.elements[f].scope.$destroy();this.elements=[]}p.length<a&&(a=p.length);for(var d=o;d<a;d++){var u=t.$new(!1,l.WcTableScopeService.getTableScope());u.row=p[d],u.rowKey=u.row[this.rowKey],u.index=d,s&&s.length>0&&_.find(s,function(e){return e===u.rowKey})&&(u.isSelected=!0);var h=$("<tr></tr>");_.forEach(r.$attr,function(e,t){"wcRowRepeat"!=t&&h.attr(e,r[t])}),h.append(l.dataRowChildren.clone());var v={};v.el=h,v.scope=u,this.elements.push(v),$(i).remove(),this.parentElement.append(h),e(h)(u)}for(var g=_.map(l.columnsToHide,function(e,t){return{key:t,value:e}}),m=_.filter(g,{value:!1}),w=_.map(m,function(e){return e.key}),f=0;f<w.length;f++)$("#"+l.id+".column-toggle .wc-table-column-"+w[f]).hide();p.length<1&&this.parentElement[0].children.length<1&&this.parentElement.append(e(i)(t)),n.remove()}}],link:function(e,t,n,r){var o=r[0],l=r[1];e.$on("table.render.start",function(){var e=l.WcTablePaginationService.getPaginationDefaults();o.insertRows(e.pageStart,e.pageEnd),l.WcTableScopeService.getTableScope().tableRendered()})}}}]);
angular.module("WcResponsiveTableModule").directive("wcRowSelectCheckbox",function(){return{restrict:"E",template:'<input type="checkbox" class="wc-checkbox-column" name="{{responsiveTableController.id}}-checkbox[]" ng-change="rowSelectCheckboxController.selectRow()" ng-model="responsiveTableController.wcRowSelectCheckbox[rowSelectCheckboxController.index]" ng-true-value="{{rowSelectCheckboxController.rowCheckedMap}}" ng-false-value="{{rowSelectCheckboxController.rowUncheckedMap}}">',require:["wcRowSelectCheckbox","^wcResponsiveTable","^ngModel"],scope:!0,controllerAs:"rowSelectCheckboxController",controller:["$scope","$element",function(e,c){this.checkbox=c.find("input"),this.index=e.$parent.index,this.rowKey=e.$parent.rowKey,this.rowCheckedMap={key:this.rowKey,value:!0},this.rowUncheckedMap={key:this.rowKey,value:!1},this.checked=this.rowUncheckedMap.value;var o=c.parent().controller("wcResponsiveTable");o.wcRowSelectCheckbox=o.wcRowSelectCheckbox||[],o.wcRowSelectCheckbox[this.index]=this.rowUncheckedMap;var t=o.WcTableScopeService.getTableScope();this.selectRow=function(){e.$parent.isSelected=this.checked=o.wcRowSelectCheckbox[this.index].value;var c=_.filter(o.wcRowSelectCheckbox,{value:!0}),t=_.map(c,function(e){return e.key});o.ngModel=t,o.applyModel(o.ngModel)},t.$on("table.render.complete",angular.bind(this,function(){e.$parent.isSelected&&(o.wcRowSelectCheckbox[this.index]=this.rowCheckedMap,this.checked=this.rowCheckedMap.value)})),t.$on("table.select.checkbox.all",angular.bind(this,function(){this.checked||this.checkbox.click()})),t.$on("table.select.checkbox.none",angular.bind(this,function(){this.checked&&this.checkbox.click()}))}],link:function(e,c){var o=function(e){var o=c.parent().parent();e?$(o).addClass("wc-highlight-row"):$(o).removeClass("wc-highlight-row");var t=o.children();$(t).each(function(c,o){e?$(o).addClass("wc-highlight-row"):$(o).removeClass("wc-highlight-row")})};e.$watch("rowSelectCheckboxController.checked",function(e){o(e)})}}});
angular.module("WcResponsiveTableModule").directive("wcRowSelectRadio",function(){return{restrict:"E",template:'<input type="radio" name="{{responsiveTableController.id}}-radio" class="wc-radio-column" ng-click="rowSelectRadioController.selectRow()" ng-model="responsiveTableController.wcRowSelectRadio" ng-value="rowSelectRadioController.rowKey">',require:["wcRowSelectRadio","^wcResponsiveTable","^ngModel"],scope:!0,controllerAs:"rowSelectRadioController",controller:["$scope","$element",function(e,o){var l=o.parent().controller("wcResponsiveTable");this.rowKey=e.$parent.rowKey,this.selectRow=function(){l.ngModel=[this.rowKey],l.applyModel(l.ngModel)},e.$on("table.render.complete",angular.bind(this,function(){e.$parent.isSelected&&(l.wcRowSelectRadio=this.rowKey)}))}],link:function(e,o,l,r){var t=r[0],n=r[1],i=function(e){var l=o.parent().parent();e?$(l).addClass("wc-highlight-row"):$(l).removeClass("wc-highlight-row");var r=l.children();$(r).each(function(o,l){e?$(l).addClass("wc-highlight-row"):$(l).removeClass("wc-highlight-row")})};e.$watch("responsiveTableController.wcRowSelectRadio",function(e){if(n.ngModel){var o=e===t.rowKey;i(o)}})}}});
angular.module("WcResponsiveTableModule").directive("wcRowSelectAll",function(){return{restrict:"A",require:["wcRowSelectAll","^wcResponsiveTable","^ngModel"],scope:{},controllerAs:"rowSelectAllController",controller:["$scope","$element",function(e,l){var c=l.parent().controller("wcResponsiveTable");this.viewScope=c.WcTableScopeService.getParentScope(),this.selectAll=function(){this.viewScope.$broadcast("table.select.checkbox.all"),this.viewScope.$broadcast("table.select.button.all"),e.$apply()}}],link:function(e,l,c,t){var o=t[0];l.on("click",function(){o.selectAll()})}}});
angular.module("WcResponsiveTableModule").directive("wcRowSelectNone",function(){return{restrict:"A",require:["wcRowSelectNone","^wcResponsiveTable","^ngModel"],scope:{},controllerAs:"rowSelectNoneController",controller:["$scope","$element",function(e,o){var c=o.parent().controller("wcResponsiveTable");this.viewScope=c.WcTableScopeService.getParentScope(),this.selectNone=function(){this.viewScope.$broadcast("table.select.checkbox.none"),this.viewScope.$broadcast("table.select.button.none"),e.$apply()}}],link:function(e,o,c,t){var n=t[0];o.on("click",function(){n.selectNone()})}}});
angular.module("WcResponsiveTableModule").directive("wcTableSelectionInfo",function(){return{restrict:"E",template:'<span>{{tableSelectionInfoController.numberOfSelectedRows}} {{"rowsCurrentlySelected" | translate}}</span>',require:["wcTableSelectionInfo","^wcResponsiveTable","^ngModel"],scope:{},controllerAs:"tableSelectionInfoController",controller:["$scope","$element",function(e,n){var l=n.parent().controller("wcResponsiveTable"),t=l.WcTableScopeService.getTableScope();this.numberOfSelectedRows=l.ngModel.length,t.$watch(function(){return l.ngModel.length},angular.bind(this,function(e,n){e!=n&&(this.numberOfSelectedRows=e)}))}]}});
angular.module("WcResponsiveTableModule").directive("wcRowActionSingle",function(){return{restrict:"A",require:["wcRowActionSingle","^wcResponsiveTable"],scope:{},bindToController:{wcRowActionSingle:"@"},controllerAs:"rowActionSingleController",controller:["$scope","$element",function(e,n){var o=n.parent().controller("wcResponsiveTable");this.singleAction=function(){var n=e.$parent,c=o.WcTableScopeService.getParentScope(),i=[].concat(n.rowKey);c.$broadcast(this.wcRowActionSingle,i)}}],link:function(e,n,o,c){var i=c[0];n.on("click",function(){i.singleAction()})}}});
angular.module("WcResponsiveTableModule").directive("wcRowSelectHeaderCheckbox",["$timeout",function(e){return{restrict:"E",template:'<input type="checkbox" class="wc-header-checkbox" name="{{rowSelectHeaderCheckboxController.id}}-header-checkbox" ng-change="rowSelectHeaderCheckboxController.selectAllRows()" ng-model="rowSelectHeaderCheckboxController.isChecked">',require:["wcRowSelectHeaderCheckbox","^wcResponsiveTable","^ngModel"],scope:{},bindToController:{wcRowSelectHeaderCheckbox:"@"},controllerAs:"rowSelectHeaderCheckboxController",controller:["$scope","$element",function(c,t){var o=t.parent().controller("wcResponsiveTable"),l=o.WcTableScopeService.getTableScope();this.id=o.id,this.checkbox=t.find("input"),this.checkIfAllChecked=function(){for(var e=o.table.find('tbody input[type="checkbox"]'),c=0;c<e.length;c++)if(!angular.element(e[c]).is(":checked")){this.isChecked=!1;break}},this.selectAllRows=function(){var e=this.isChecked?"table.select.checkbox.all":"table.select.checkbox.none";l.$broadcast(e)},l.$watch(function(){return o.ngModel},angular.bind(this,function(){this.checkIfAllChecked()})),l.$on("table.render.complete",angular.bind(this,function(){e(angular.bind(this,function(){this.isChecked=!0,this.checkIfAllChecked()}))}))}]}}]);
angular.module("WcResponsiveTableModule").directive("wcRowSelectHeaderRadio",function(){return{restrict:"E",template:"",scope:{wcRowSelectHeaderRadio:"@"},controller:["$scope",function(e){}]}});
angular.module("WcResponsiveTableModule").directive("wcRowActionMultiple",function(){return{restrict:"A",require:["wcRowActionMultiple","?^wcResponsiveTable"],scope:{},bindToController:{wcRowActionMultiple:"@"},controllerAs:"rowActionMultipleController",controller:["$scope","$element",function(e,o){var t=o.parent().controller("wcResponsiveTable");this.multipleAction=function(){var e=t.ngModel,o=t.WcTableScopeService.getParentScope();e.length&&o.$broadcast(this.wcRowActionMultiple,[].concat(e))}}],link:function(e,o,t,c){var l=c[0];o.on("click",function(){l.multipleAction()})}}});
angular.module("WcResponsiveTableModule").directive("wcTablePagination",["$compile","$window","_",function(a,t,n){return{require:["wcTablePagination"],scope:{},bindToController:{},controllerAs:"tablePaginationController",controller:["$scope","$element","WcTranslateConfiguratorService",function(a,e,i){var o,r=e.parent().controller("wcResponsiveTable"),l=(r=r||a.responsiveTableController||a.$parent.responsiveTableController).WcTableScopeService.getTableScope();this.tableWrapper=r.element,this.table=r.table,this.id=r.id+"-pagination",i.loadPartAndRefresh("WC-dataTable"),this.pagination=r.WcTablePaginationService.getPaginationDefaults(),o=this.pagination,l.$on("table.pagination.update",angular.bind(this,function(a,t){t&&(o.currentPage=1),o.totalItems=r.WcTableCollectionService.getCollectionLength(),o.totalPages=Math.ceil(o.totalItems/o.resultsPerPage),this.updatePaginationControls(o.currentPage),this.createPaginationControlNumbers()})),o.boundaryLinks=!0,o.currentBreakpoint="",o.currentPage=1,o.paginationPageControls=[],o.totalItems=r.WcTableCollectionService.getCollectionLength(),o.totalPages=Math.ceil(o.totalItems/o.resultsPerPage),this.createPaginationControlNumbers=function(){for(var a=[],t=o.totalPages>o.numberOfPageControls?o.numberOfPageControls:o.totalPages,n=Math.floor(t/2),e=0;e<t;e++)o.currentPage-n>0&&o.currentPage-n<=o.totalPages&&a.push(o.currentPage-n),n--;if(a.length<t){var i,r,l=Math.floor(o.currentPage-t/2),s=Math.abs(a.length-t);if(l<=0){var g=a[a.length-1];for(r=1;r<=s;r++)i=g+r,o.totalPages>=i&&a.push(i)}else{var p=a[0];for(r=1;r<=s;r++)i=p-r,a.unshift(i)}}o.paginationPageControls=a},this.changeResultsPerPage=function(){if("All"===o.resultsPerPage)o.resultsPerPage=o.totalItems,o.pageStart=0,o.pageEnd=o.totalItems,o.totalPages=1,this.changePage(1);else{o.totalPages=Math.ceil(o.totalItems/o.resultsPerPage);var a=Math.ceil(o.pageStart/o.resultsPerPage);this.changePage(a||1)}},this.updatePaginationControls=function(a){o.currentPage=a,o.pageStart=a*o.resultsPerPage-o.resultsPerPage;var t=o.pageStart+o.resultsPerPage;t>o.totalItems?o.pageEnd=o.totalItems:o.pageEnd=t,r.WcTablePaginationService.setPaginationDefaults({pageStart:o.pageStart,pageEnd:o.pageEnd})},this.changePage=function(a){if(!(a>0&&a<=o.totalPages))throw isNaN(a)?"Invaild Page Number: "+a+". Must be a number, no other characters allowed":a<=0?"Invaild Page Number: "+a+". Must be greater than 0":a>o.totalPages?"Invaild Page Number: "+a+". Must be smaller than "+o.totalPages:"Invaild Page Number: "+a+". Not sure what you did, but it is invalid";this.updatePaginationControls(a),this.createPaginationControlNumbers(),l.renderTable()},this.nextPage=function(){var a=o.currentPage;a+1<=o.totalPages&&this.changePage(++a)},this.previousPage=function(){var a=o.currentPage;a-1>0&&this.changePage(--a)},l.$watch(function(){return o.currentBreakpoint},angular.bind(this,function(a,t){a!==t&&("xs"===a?(o.numberOfPageControls=0,o.boundaryLinks=!1):"sm"===a?(o.numberOfPageControls=0,o.boundaryLinks=!1):"md"===a?(o.numberOfPageControls=0,o.boundaryLinks=!1):"lg"===a?(o.numberOfPageControls=3,o.boundaryLinks=!0):(o.numberOfPageControls=r.WcTablePaginationService.getPaginationDefaults().numberOfPageControls,o.boundaryLinks=!0),this.createPaginationControlNumbers())}));var s=function(){window.innerWidth<=o.responsiveBreakpoints[0]&&"xs"!==o.currentBreakpoint?o.currentBreakpoint="xs":window.innerWidth>o.responsiveBreakpoints[0]&&window.innerWidth<=o.responsiveBreakpoints[1]&&"sm"!==o.currentBreakpoint?o.currentBreakpoint="sm":window.innerWidth>o.responsiveBreakpoints[1]&&window.innerWidth<=o.responsiveBreakpoints[2]&&"md"!==o.currentBreakpoint?o.currentBreakpoint="md":window.innerWidth>o.responsiveBreakpoints[2]&&window.innerWidth<=o.responsiveBreakpoints[3]&&"lg"!==o.currentBreakpoint?o.currentBreakpoint="lg":window.innerWidth>o.responsiveBreakpoints[3]&&"xl"!==o.currentBreakpoint&&(o.currentBreakpoint="xl"),l.$digest()};angular.element(t).bind("resize",n.debounce(s,300)),setTimeout(s,0)}],link:function(t,n,e,i){var o=i[0],r=['<div class="col-xs-3 result-page-count">','<label>{{"pagination.resultsPerPage" | translate}}: ','<select class="form-control form-inline input-sm pagination-results-per-page" ng-options="result for result in tablePaginationController.pagination.selectResultsPerPage"','ng-model="tablePaginationController.pagination.resultsPerPage" ng-change="tablePaginationController.changeResultsPerPage()">',"</select></label>","</div>"].join(""),l=['<div class="col-xs-4 text-right">','<p class="hidden-xs hidden-sm results-data"><span ng-if="tablePaginationController.pagination.totalItems==0">{{"pagination.paginationNoRecordLegend" | translate:tablePaginationController.pagination}}</span><span ng-if="tablePaginationController.pagination.totalItems>0"> {{"pagination.paginationLegend" | translate:tablePaginationController.pagination}}</span>',"</p>","</div>"].join(""),s=['<div class="col-xs-5 pagination-control text-right">','<ul class="hidden-xs pagination pagination-sm">','<li ng-hide="!tablePaginationController.pagination.boundaryLinks" class="pagination-page"  ng-class="{disabled: tablePaginationController.pagination.currentPage == 1}"><button type="button" ng-disabled="tablePaginationController.pagination.currentPage == 1" ng-click="tablePaginationController.changePage(1)">&#xe069</button></li>','<li class="pagination-page"  ng-class="{disabled: tablePaginationController.pagination.currentPage == 1}"><button type="button"  ng-disabled="tablePaginationController.pagination.currentPage == 1" class="previous" ng-click="tablePaginationController.previousPage()">&#xe071</button></li>','<li class="pagination-page pagination-page-number" ng-class="{active: tablePaginationController.pagination.currentPage === number}" ng-repeat="number in tablePaginationController.pagination.paginationPageControls">','<button type="button" ng-click="tablePaginationController.changePage(number)">{{number}}</button>',"</li>",'<li class="pagination-page" ng-class="{disabled: tablePaginationController.pagination.currentPage == tablePaginationController.pagination.totalPages}"><button type="button" ng-disabled="tablePaginationController.pagination.currentPage == tablePaginationController.pagination.totalPages" class="next" ng-click="tablePaginationController.nextPage()">&#xe075</button></li>','<li ng-hide="!tablePaginationController.pagination.boundaryLinks" class="pagination-page"  ng-class="{disabled: tablePaginationController.pagination.currentPage == tablePaginationController.pagination.totalPages}"><button type="button" ng-disabled="tablePaginationController.pagination.currentPage == tablePaginationController.pagination.totalPages" ng-click="tablePaginationController.changePage(tablePaginationController.pagination.totalPages)">&#xe077</button></li>',"</ul>","<div>"].join(""),g=['<div class="col-xs-12 pagination-navigation hidden-sm hidden-md hidden-lg hidden-xl text-center">','<ul class="pagination pagination-sm">','<li class="pagination-page" ng-class="{disabled: tablePaginationController.pagination.currentPage == 1}"><button type="button" class="previous" ng-click="tablePaginationController.previousPage()">&#xe071</button></li>',"<li>",'<input type="text" pattern="[0-9]*" ng-model="tablePaginationController.pagination.newInputPage" ng-change="tablePaginationController.changePage(tablePaginationController.pagination.newInputPage)" placeholder="{{\'pagination.jumpTo\' | translate}}"  />',"</li>",'<li class="pagination-page" ng-class="{disabled: tablePaginationController.pagination.currentPage == tablePaginationController.pagination.totalPages}"><button type="button" class="next" ng-click="tablePaginationController.nextPage()">&#xe075</button></li>',"</ul>",'<p class="text-center">{{"pagination.paginationLegendMobile" | translate:tablePaginationController.pagination}}</p>',"</div>"].join(""),p=o.tableWrapper.attr("data-table-name"),c=[];p&&(c=['<div class="col-xs-12 hidden action-dropdown">','<div class="row">','<div class="col-xs-4 pt-10"><strong>{{"pagination.rowActions" | translate}} :</strong></div>','<div class="col-xs-8">','<select class="form-control inline">','<option>{{"pagination.select" | translate}}</option>','<option>{{"pagination.delete" | translate}}</option>',"</select>",'<button type="button" class="btn ml-5 mt-neg-3 btn-primary" wc-row-action-multiple="delete-'+p+'">{{"pagination.submit" | translate}}</button>',"</div>","</div>","</div>"].join(""));var u=['<div class="row">',r,l,s,"</div>",'<div class="row">',g,"</div>",'<div class="row">',c,"</div>"].join(""),P=o.pagination.paginationControlsPlacement;if(o.createPaginationControlNumbers(),o.pagination.totalItems>0){if("top"===P||"both"===P){var b=a(u)(t);b.addClass("pagination-top"),o.tableWrapper.prepend(b)}if("bottom"===P||"both"===P){var d=a(u)(t);d.addClass("pagination-bottom"),o.table.after(d)}}}}}]);
angular.module("WcResponsiveTableModule").directive("wcColumnSort",["$timeout",function(e){return{restrict:"A",require:["wcColumnSort","^wcResponsiveTable"],scope:{},bindToController:{wcColumnSort:"@",wcColumnSortDefault:"@",specialChars:"@",columnIndex:"@"},controllerAs:"columnSortController",controller:["$scope","$element",function(t,l){var o=l.parent().controller("wcResponsiveTable");this.tableScope=o.WcTableScopeService.getTableScope(),this.collectionLength=o.WcTableCollectionService.getCollectionLength(),this.resultsPerPage=o.WcTablePaginationService.getPaginationDefaults().resultsPerPage,this.sortReverse=!1,this.sortCollection=function(){o.WcTableCollectionService.sortEnabled=!0,e(angular.bind(this,function(){var e=o.WcTableCollectionService.getCollection();o.previousSortColumn=o.activeSortColumn,o.activeSortColumn=this.columnIndex,o.WcTableCollectionService.setCollection(function(e,t,l,o){return l=l?1:-1,o?e.sort(function(e,o){return 1===l?_.get(o,t).localeCompare(_.get(e,t)):_.get(e,t).localeCompare(_.get(o,t))}):e.sort(function(e,o){return _.get(e,t)<_.get(o,t)?1*l:_.get(e,t)>_.get(o,t)?-1*l:0})}(e,this.wcColumnSort,this.sortReverse,this.specialChars),o.WcTableCollectionService.sortEnabled,o.WcTableCollectionService.filterEnabled),this.tableScope.$broadcast("table.sort.complete",this.wcColumnSort,this.sortReverse),this.sortReverse=!this.sortReverse}),30)},this.wcColumnSortDefault&&("desc"==this.wcColumnSortDefault&&(this.sortReverse=!0),this.sortCollection())}],link:function(t,l,o,c){var s=c[0],n=c[1];l.addClass("wc-table-column-sort-heading"),n.WcTableScopeService.getTableScope().$on("table.sort.complete",function(e,t,o){var c=l.find("span[class~=glyphicon-sort]"),a=l.attr("class").match(/wc-table-column-\d+/)[0];t===s.wcColumnSort?(c.toggleClass("glyphicon-sort",!1),o?(c.toggleClass("glyphicon-sort-by-alphabet-alt",!0),c.toggleClass("glyphicon-sort-by-alphabet",!1)):(c.toggleClass("glyphicon-sort-by-alphabet",!0),c.toggleClass("glyphicon-sort-by-alphabet-alt",!1)),$("#"+n.id+" ."+a).addClass("wc-table-column-highlight")):(c.toggleClass("glyphicon-sort",!0),c.toggleClass("glyphicon-sort-by-alphabet glyphicon-sort-by-alphabet-alt",!1),$("#"+n.id+" ."+a).removeClass("wc-table-column-highlight"),s.sortReverse=!1)}),n.WcTableScopeService.getTableScope().$on("table.render.complete",function(e){var t=l.attr("class").match(/wc-table-column-\d+/)[0];l.hasClass("wc-table-column-highlight")?$("#"+n.id+" ."+t).addClass("wc-table-column-highlight"):$("#"+n.id+" ."+t).removeClass("wc-table-column-highlight")}),e(function(){var e=l.find(".header-text, .header-icons");$(e).on("click",function(){var e=s.collectionLength,t=!1;s.resultsPerPage<=25?e>=1e5&&(t=!0):s.resultsPerPage<=75?e>=1e4&&(t=!0):e>=1e3&&(t=!0),t&&s.tableScope.tableIsLoading(),s.sortCollection()})},0),l[0].children.length?e(function(){l.find(".header-text-wrapper").append('<span class="header-icons pull-right"><span class="glyphicon glyphicon-sort"></span></span>')},0):l.append('<span class="glyphicon glyphicon-sort"></span>')}}}]);
angular.module("WcResponsiveTableModule").directive("wcColumnFilter",["$compile","$timeout","$document","$filter","_","WcTranslateConfiguratorService","$translate",function(e,t,i,l,n,r,o){return{restrict:"A",require:["wcColumnFilter","^wcResponsiveTable"],scope:!0,bindToController:{wcColumnFilter:"@",wcColumnFilterDelay:"@"},controllerAs:"columnFilterController",controller:["$scope","$element",function(l,o){r.loadPartAndRefresh("WC-dataTable");var a=function(e){var t=i[0].createElement("div");return t.innerHTML=e,t.childNodes[0].nodeValue},c=o.parent().controller("wcResponsiveTable");this.tableScope=c.WcTableScopeService.getTableScope();var s=c.WcTableCollectionService.getCollection();this.collection=s,this.predicate=this.wcColumnFilter,this.wcColumnFilterDelay=this.wcColumnFilterDelay||0,this.isMultiSelect=!1,this.mathFilterOptions=[{id:"==",name:"="},{id:"<",name:a("&lt;")},{id:"<=",name:a("&le;")},{id:">",name:a("&gt;")},{id:">=",name:a("&ge;")},{id:"!=",name:a("&ne;")}],this.tableScope.$on("table.collection.update",angular.bind(this,function(){s=c.WcTableCollectionService.getCollection(),t(angular.bind(this,function(){this.filterColumn()}),0)})),this.filterColumn=function(){var e=c.element.find(".active-filters");c.WcTableCollectionService.filterEnabled=!0;var t=c.WcTableCollectionService.filterEnabled,i=c.WcTableCollectionService.sortEnabled,r=c.WcColumnFilterService.getColumnsToFilter();if(0===r.length)e.toggleClass("hidden",!0),c.WcTableCollectionService.filterEnabled=!1,c.WcTableCollectionService.setCollection(s,i,t);else{e.toggleClass("hidden",!1);var o=n.filter(s,angular.bind(this,function(e){for(var t=!1,i=0;i<r.length;i++)if(""==r[i].value)t=!0;else{if(!n.get(e,r[i].predicate))return!1;if(angular.isArray(r[i].value))for(var o=0;o<r[i].value.length;o++){if(!(n.get(e,r[i].predicate).toString().toLowerCase().indexOf(r[i].value[o].toLowerCase())>-1))return!1;t=!0}else if(r[i].isMathFilter){var a=c.selectedMathFilterOption[r[i].predicate].id,s=r[i].value,p=Number(s),d=Number(n.get(e,r[i].predicate));if(!l.$eval(d+a+p))return!1;t=!0}else{if(!("default"!==n.get(e,r[i].predicate,"default")&&n.get(e,r[i].predicate).toString().toLowerCase().indexOf(r[i].value.toLowerCase())>-1))return!1;t=!0}}return t}));c.WcTableCollectionService.setCollection(o,i,t)}},this.dismissFilter=function(e){$('input[wc-column-filter="'+e+'"], select[wc-column-filter="'+e+'"]').val(""),c.WcColumnFilterService.removeColumnToFilter(e),this.filterColumn(),$(".active-filters ."+e.replace(".","-")).remove(),o.parents("th").find("span.glyphicon-filter").remove()},this.filterListener=function(){var i,r=this.predicate.replace(".","-"),a=o.val();if(n.find(c.WcColumnFilterService.getColumnsToFilter(),{predicate:this.predicate})&&(i=n.find(c.WcColumnFilterService.getColumnsToFilter(),{predicate:this.predicate}).value),!(void 0===a||""===a&&""===i||""===a&&void 0===i||a===i&&""!==o.attr("wc-math-filter"))){c.WcColumnFilterService.setColumnsToFilter(this.predicate,a,""===o.attr("wc-math-filter")),this.filterColumn();var s=o.parents("th").find("span.glyphicon-filter");r=this.predicate.replace(".","-");var p=c.element.find(".active-filters ."+r);if(""!==a){var d=o.parents("th").find(".header-text").text();s.length||(o.parents("th").find(".header-icons").length>0&&!s.length?o.parents("th").find(".header-icons").append('<span class="glyphicon glyphicon-filter"></span>'):t(function(){o.parents("th").find(".header-text-wrapper").append('<span class="header-icons pull-right"><span class="glyphicon glyphicon-filter"></span></span>')},0)),p.length||c.element.find(".active-filters").append(e('<button class="btn btn-active-filter '+r+'" ng-click="columnFilterController.dismissFilter(\''+this.predicate+"')\"><span>"+d+'</span>&nbsp;&nbsp;<span class="glyphicon glyphicon-remove"></span></button>')(l))}else if(""===a){s.remove();var u=p.parent();p.remove(),u.children().length||c.element.find(".active-filters").toggleClass("hidden",!0)}}l.$broadcast("table.filter.complete")}}],link:function(t,i,l,r,a){var c=r[0],s=r[1];if(""===i.attr("wc-math-filter")&&(s.selectedMathFilterOption[c.predicate]=c.mathFilterOptions[0],i.wrap('<div class="row wc-math-filter-row"><div class="col-xs-8"></div></div>'),i.parent().before(e('<div class="col-xs-4 math-dropdown"><select class="form-control input-sm" ng-change="columnFilterController.filterListener()" ng-options="option.name for option in columnFilterController.mathFilterOptions track by option.id" ng-model="columnFilterController.tableScope.responsiveTableController.selectedMathFilterOption[columnFilterController.predicate]" id="wc-math-filter-'+c.predicate.replace(".","-")+'"></select></div>')(t))),"SELECT"!==i.prop("tagName")||i.attr("wc-math-filter"))i.keyup(n.debounce(c.filterListener.bind(c),c.wcColumnFilterDelay));else{c.isMultiSelect=i.attr("multiple");var p=n.uniq(n.map(c.collection,c.predicate)).sort(),d=$("<option></option>");c.isMultiSelect||(d.attr("value",""),d.text(o.instant("columnFilter.selectDefaultText")),i.append(d)),n.each(p,function(e){var t=$("<option></option>");t.attr("value",e),t.text(e),i.append(t)}),i.on("change",c.filterListener.bind(c))}i.on("click",function(e){e.stopPropagation()})}}}]);
angular.module("WebCoreModule").directive("wcExportToExcel",["$window","XLSX","saveAs","_","WcTranslateConfiguratorService",function(e,t,r,n,o){return{restrict:"E",template:'<button type="button" class="btn icon icon-excel" ng-click="exportToXslxController.makeExcel()" aria-label="{{"exportTo.excelButtonAriaLabel" | translate}}"> <i class="fa fa-file-excel-o"  aria-hidden="true" title="{{"exportTo.excelButtonTitle" | translate}}"></i><span class="hidden-xs">{{"exportTo.excelButtonText" | translate}}</span></button>',replace:!0,require:["wcExportToExcel"],scope:{},controllerAs:"exportToXslxController",controller:["$scope","$element",function(a,l){o.loadPartAndRefresh("WC-dataTable");var s=l.parent().controller("wcResponsiveTable");s=s||a.responsiveTableController||a.$parent.responsiveTableController,this.exportToExcel=function(o,a,l){var i=s.WcTableCollectionService.getCollection(),c=i.length,u=[];u.push(o);for(var h=u[0].length,f=0;f<c;++f){for(var p=[],v=0;v<h;v++){var b=n.get(i[f],a[v]);p.push(b)}u.push(p)}for(var d=(l=l.toString())+".xlsx",x={SheetNames:[],Sheets:{}},g=this.sheetFromArrayOfArrays(u),m=[],v=0;v<a.length;++v){var A={},T=0;T=Math.max.apply(Math,u.map(function(e){return null==e[v]?0:e[v].toString().length})),A.wch=T,m.push(A)}g["!cols"]=m;var y=[];g["!merges"]=y,x.SheetNames.push(l),x.Sheets[l]=g;var w=t.write(x,{type:"binary"});r(new e.Blob([this.s2ab(w)],{type:"application/octet-stream"}),d)},this.s2ab=function(e){if("undefined"!=typeof ArrayBuffer){for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=255&e.charCodeAt(n);return t}for(var t=new Array(e.length),n=0;n!=e.length;++n)t[n]=255&e.charCodeAt(n);return t},this.sheetFromArrayOfArrays=function(e){for(var r={},n={s:{c:1e7,r:1e7},e:{c:0,r:0}},o=0;o!=e.length;++o)for(var a=0;a!=e[o].length;++a){n.s.r>o&&(n.s.r=o),n.s.c>a&&(n.s.c=a),n.e.r<o&&(n.e.r=o),n.e.c<a&&(n.e.c=a);var l={v:e[o][a]};if(null!=l.v){var s=t.utils.encode_cell({c:a,r:o});"number"==typeof l.v?l.t="n":"boolean"==typeof l.v?l.t="b":l.v instanceof Date?(l.t="n",l.z=t.SSF._table[14],l.v=this.dateNum(l.v)):l.t="s",r[s]=l,0===o&&(r[s].bold=!0)}}return n.s.c<1e7&&(r["!ref"]=t.utils.encode_range(n)),r},this.dateNum=function(e,t){var r=e.getTime();return t&&(r+=1263168e5),(r+22091616e5)/864e5},this.makeExcel=function(){for(var e=s.id,t=$(s.table).find("th"),r=[],n=0;n<t.length;n++){var o=$(t[n]).find(".header-text").text();"Actions"!==o&&""!==o.trim()&&r.push(o)}for(var a=$(s.table).find("tbody tr:first-child td"),l=[],i=0;i<t.length;i++)if(a[i].getAttribute("ng-bind")){var c=a[i].getAttribute("ng-bind");l.push(c.substr(c.indexOf(".")+1))}else t[i].getAttribute("wc-column-sort")&&l.push(t[i].getAttribute("wc-column-sort"));this.exportToExcel(r,l,e)}}]}}]);
angular.module("WebCoreModule").directive("wcExportToPdf",["pdfMake","WcTranslateConfiguratorService","$filter","_",function(t,e,r,o){return{restrict:"E",template:'<button type="button" class="btn icon icon-pdf" ng-click="exportToPdfController.makePDF()" aria-label="{{"exportTo.pdfButtonAriaLabel" | translate}}"><i class="fa fa-file-pdf-o" aria-hidden="true" title="{{"exportTo.pdfButtonTitle" | translate}}"></i><span class="hidden-xs">{{"exportTo.pdfButtonText" | translate}}</span></button>',replace:!0,require:["wcExportToPdf"],scope:{},controllerAs:"exportToPdfController",controller:["$scope","$element","_",function(o,n,l){e.loadPartAndRefresh("WC-dataTable");var a=n.parent().controller("wcResponsiveTable");a=a||o.responsiveTableController||o.$parent.responsiveTableController,this.exportToPDF=function(e,o,n){for(var i=a.WcTableCollectionService.getCollection(),s=i.length,d=e.length,c=[],f=[],p="",u=0;u<d;u++)e[u]={text:e[u],bold:!0};c.push(e);for(var b=[],h=0;h<d;h++)b.push("auto");if(s>0)for(u=0;u<s;u++){for(var g=i[u],v=0;v<d;v++){var T=o[v].toString();if(-1==T.indexOf("."))p=g[o[v]];else{for(var x=T.split("."),C=g,P=0;P<x.length;P++)C=C[x[P]];p=C}p?l.isDate(p)?f.push(r("date")(p,"yyyy-MM-dd")):f.push(p.toString()):f.push("")}c.push(f),f=[]}var m={content:[{table:{headerRows:1,widths:b,body:c}}]};return n=n.toString()+".pdf",t.createPdf(m).download(n)},this.makePDF=function(){for(var t=a.id,e=$(a.table).find("th"),r=[],o=0;o<e.length;o++){var n=$(e[o]).find(".header-text").text();"Actions"!==n&&""!==n.trim()&&r.push(n)}var l=[];if(a.WcTableCollectionService.getCollection().length>0)for(var i=$(a.table).find("tbody tr:first-child td"),s=0;s<i.length;s++)if(i[s].getAttribute("ng-bind")){var d=i[s].getAttribute("ng-bind"),c=d.substr(d.indexOf(".")+1);l.push(c)}else e[s].getAttribute("wc-column-sort")&&l.push(e[s].getAttribute("wc-column-sort"));this.exportToPDF(r,l,t)}}]}}]);
angular.module("WcResponsiveTableModule").factory("WcTableScopeService",function(){function e(){this.parentScope=null,this.tableScope=null}return e.prototype={getParentScope:function(){return this.parentScope},getTableScope:function(){return this.tableScope},setParentScope:function(e){0===e.$id||e.$id?this.tableScope&&e.$id===this.tableScope.$id?(this.parentScope=null,console.error("WcTableScopeService: setTableScope(); parent scope and table scope can not be the same scope")):this.parentScope=e:(this.parentScope=null,console.error("WcTableScopeService: setTableScope(); You must pass in a valid Angular Scope"))},setTableScope:function(e){0===e.$id||e.$id?this.parentScope&&e.$id===this.parentScope.$id?(this.tableScope=null,console.error("WcTableScopeService: setTableScope(); parent scope and table scope can not be the same scope")):this.tableScope=e:(this.tableScope=null,console.error("WcTableScopeService: setTableScope(); You must pass in a valid Angular Scope"))}},e});
angular.module("WcResponsiveTableModule").factory("WcColumnFilterService",["_",function(t){function e(){this.columnsToFilter=[]}return e.prototype.getColumnsToFilter=function(){return this.columnsToFilter},e.prototype.setColumnsToFilter=function(e,o,i){var l=t.findIndex(this.columnsToFilter,["predicate",e]);-1==l?this.columnsToFilter.push({predicate:e,value:o,isMathFilter:i}):(this.columnsToFilter[l].value=o,this.columnsToFilter[l].isMathFilter=i)},e.prototype.removeColumnToFilter=function(e){var o=t.findIndex(this.columnsToFilter,["predicate",e]);-1!=o&&this.columnsToFilter.splice(o,1)},e.prototype.getBlankFilters=function(){for(var t=[],e=this.columnsToFilter.length-1;e>=0;e--)""===this.columnsToFilter[e].value&&t.push(this.columnsToFilter[e]);return t},e}]);
angular.module("WcResponsiveTableModule").factory("WcTableCollectionService",function(){function t(t){this.WcTableScopeService=t,this.collection=[],this.rowKey="",this.sortEnabled=!1,this.filterEnabled=!1}return t.prototype.getCollection=function(){return this.collection},t.prototype.getCollectionLength=function(){return this.collection.length},t.prototype.getRowKey=function(){return this.rowKey},t.prototype.setCollection=function(t,e,o){this.collection=t,void 0===e&&void 0===o&&this.WcTableScopeService.tableScope.$broadcast("table.collection.update"),this.WcTableScopeService.tableScope.renderTable(e||o)},t.prototype.setInitialCollection=function(t){this.collection=t},t.prototype.setRowKey=function(t){t?this.rowKey=t:(this.rowKey="id",this.collection.forEach(angular.bind(this,function(t,e){t[this.rowKey]=e})))},t});
angular.module("WcResponsiveTableModule").factory("WcTablePaginationService",function(){function t(t){this.WcTableCollectionService=t,this.collectionLength=this.WcTableCollectionService.getCollectionLength(),this.paginationEnabled=!1,this.paginationDefaults={pageStart:0,pageEnd:10,resultsPerPage:10,numberOfPageControls:5,selectResultsPerPage:[10,25,50,100],responsiveBreakpoints:[430,500,600,900],paginationControlsPlacement:"both"}}return t.prototype.getPaginationDefaults=function(){return this.paginationEnabled?angular.copy(this.paginationDefaults):{pageStart:0,pageEnd:this.collectionLength}},t.prototype.isPaginationEnabled=function(){return this.paginationEnabled},t.prototype.setPaginationDefaults=function(t){for(var n in t)0===this.paginationDefaults[n]||this.paginationDefaults[n]?(t[n]||"number"==typeof t[n]&&t[n]>-1)&&(this.paginationDefaults[n]=t[n]):console.error("WcTablePaginationService: setPaginationDefaults(); Property "+n+" is not a pagination default")},t.prototype.setPaginationState=function(t){this.paginationEnabled=t},t});
//# sourceMappingURL=FRF-webCore.v1.2.2.min.js.map